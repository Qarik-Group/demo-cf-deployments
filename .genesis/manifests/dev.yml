addons:
- exclude:
    jobs:
    - name: smoke_tests
      release: cf-smoke-tests
  include:
    stemcell:
    - os: ubuntu-xenial
    - os: ubuntu-bionic
  jobs:
  - name: loggregator_agent
    properties:
      disable_udp: true
      grpc_port: 3459
      loggregator:
        tls:
          agent:
            cert: ((loggregator_tls_agent.certificate))
            key: ((loggregator_tls_agent.private_key))
          ca_cert: ((loggregator_tls_agent.ca))
      metrics:
        ca_cert: ((loggregator_agent_metrics_tls.ca))
        cert: ((loggregator_agent_metrics_tls.certificate))
        key: ((loggregator_agent_metrics_tls.private_key))
        server_name: loggregator_agent_metrics
    release: loggregator-agent
  name: loggregator_agent
- include:
    stemcell:
    - os: ubuntu-xenial
    - os: ubuntu-bionic
  jobs:
  - name: loggr-forwarder-agent
    properties:
      metrics:
        ca_cert: ((forwarder_agent_metrics_tls.ca))
        cert: ((forwarder_agent_metrics_tls.certificate))
        key: ((forwarder_agent_metrics_tls.private_key))
        server_name: forwarder_agent_metrics
      tls:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
    release: loggregator-agent
  name: forwarder_agent
- exclude:
    jobs:
    - name: smoke_tests
      release: cf-smoke-tests
  include:
    stemcell:
    - os: ubuntu-xenial
    - os: ubuntu-bionic
  jobs:
  - name: loggr-syslog-agent
    properties:
      cache:
        tls:
          ca_cert: ((syslog_agent_api_tls.ca))
          cert: ((syslog_agent_api_tls.certificate))
          cn: binding-cache
          key: ((syslog_agent_api_tls.private_key))
      metrics:
        ca_cert: ((syslog_agent_metrics_tls.ca))
        cert: ((syslog_agent_metrics_tls.certificate))
        key: ((syslog_agent_metrics_tls.private_key))
        server_name: syslog_agent_metrics
      port: 3460
      tls:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
    release: loggregator-agent
  name: loggr-syslog-agent
- exclude:
    jobs:
    - name: smoke_tests
      release: cf-smoke-tests
  include:
    stemcell:
    - os: ubuntu-xenial
    - os: ubuntu-bionic
  jobs:
  - name: prom_scraper
    properties:
      metrics:
        ca_cert: ((prom_scraper_metrics_tls.ca))
        cert: ((prom_scraper_metrics_tls.certificate))
        key: ((prom_scraper_metrics_tls.private_key))
        server_name: prom_scraper_metrics
      scrape:
        tls:
          ca_cert: ((prom_scraper_scrape_tls.ca))
          cert: ((prom_scraper_scrape_tls.certificate))
          key: ((prom_scraper_scrape_tls.private_key))
      scrape_interval: 60s
    release: loggregator-agent
  name: prom_scraper
- exclude:
    jobs:
    - name: smoke_tests
      release: cf-smoke-tests
  include:
    stemcell:
    - os: ubuntu-xenial
    - os: ubuntu-bionic
  jobs:
  - name: metrics-discovery-registrar
    properties:
      metrics:
        ca_cert: ((metrics_discovery_metrics_tls.ca))
        cert: ((metrics_discovery_metrics_tls.certificate))
        key: ((metrics_discovery_metrics_tls.private_key))
        server_name: metrics_discovery_metrics
      nats_client:
        cert: ((nats_client_cert.certificate))
        key: ((nats_client_cert.private_key))
    release: metrics-discovery
  name: metrics-discovery-registrar
- exclude:
    jobs:
    - name: smoke_tests
      release: cf-smoke-tests
  include:
    stemcell:
    - os: ubuntu-xenial
    - os: ubuntu-bionic
  jobs:
  - name: metrics-agent
    properties:
      grpc:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
      metrics:
        ca_cert: ((metrics_agent_tls.ca))
        cert: ((metrics_agent_tls.certificate))
        key: ((metrics_agent_tls.private_key))
        server_name: metrics_agent
      scrape:
        tls:
          ca_cert: ((prom_scraper_scrape_tls.ca))
          cert: ((prom_scraper_scrape_tls.certificate))
          key: ((prom_scraper_scrape_tls.private_key))
    release: metrics-discovery
  name: metrics-agent
- include:
    stemcell:
    - os: ubuntu-xenial
    - os: ubuntu-bionic
  jobs:
  - name: bpm
    release: bpm
  name: bpm
- jobs:
  - name: bosh-dns-aliases
    properties:
      aliases:
      - domain: _.cell.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: diego-cell
          network: ((cf_runtime_network))
          query: _
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: windows2012R2-cell
          network: ((cf_runtime_network))
          query: _
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: windows2016-cell
          network: ((cf_runtime_network))
          query: _
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: isolated-diego-cell
          network: ((cf_runtime_network))
          query: _
      - domain: auctioneer.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: scheduler
          network: ((cf_core_network))
          query: q-s4
      - domain: bbs.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: diego-api
          network: ((cf_core_network))
          query: q-s4
      - domain: blobstore.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: singleton-blobstore
          network: ((cf_core_network))
          query: '*'
      - domain: cc-uploader.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: api
          network: ((cf_core_network))
          query: '*'
      - domain: cloud-controller-ng.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: api
          network: ((cf_core_network))
          query: '*'
      - domain: credhub.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: credhub
          network: ((cf_core_network))
          query: '*'
      - domain: doppler.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: doppler
          network: ((cf_core_network))
          query: '*'
      - domain: file-server.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: api
          network: ((cf_core_network))
          query: '*'
      - domain: gorouter.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: router
          network: ((cf_edge_network))
          query: '*'
      - domain: locket.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: diego-api
          network: ((cf_core_network))
          query: '*'
      - domain: loggregator-trafficcontroller.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: log-api
          network: ((cf_core_network))
          query: '*'
      - domain: policy-server.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: api
          network: ((cf_core_network))
          query: '*'
      - domain: reverse-log-proxy.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: log-api
          network: ((cf_core_network))
          query: '*'
      - domain: routing-api.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: api
          network: ((cf_core_network))
          query: '*'
      - domain: silk-controller.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: diego-api
          network: ((cf_core_network))
          query: '*'
      - domain: sql-db.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: database
          network: ((cf_db_network))
          query: '*'
      - domain: ssh-proxy.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: router
          network: ((cf_core_network))
          query: '*'
      - domain: tps.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: scheduler
          network: ((cf_core_network))
          query: '*'
      - domain: uaa.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: uaa
          network: ((cf_core_network))
          query: '*'
      - domain: nats.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: nats
          network: ((cf_core_network))
          query: '*'
      - domain: _.nats.service.cf.internal
        targets:
        - deployment: ((deployment_name))
          domain: bosh
          instance_group: nats
          network: ((cf_core_network))
          query: _
      - domain: smbtestserver.service.cf.internal
        targets:
        - deployment: cf
          domain: bosh
          instance_group: smbtestserver
          network: default
          query: '*'
    release: bosh-dns-aliases
  name: bosh-dns-aliases
azs:
- cloud_properties:
    availability_zone: us-west-2a
  name: z1
- cloud_properties:
    availability_zone: us-west-2b
  name: z2
- cloud_properties:
    availability_zone: us-west-2c
  name: z3
bosh-variables:
  app_package_directory_key: codex-uswest2-dev-app-packages
  buildpack_directory_key: codex-uswest2-dev-buildpacks
  cf_core_network: cf-core
  cf_db_network: cf-core
  cf_edge_network: cf-edge
  cf_runtime_network: cf-runtime
  deployment_name: dev-cf
  droplet_directory_key: codex-uswest2-dev-droplets
  external_bbs_database_address: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_bbs_database_name: diego
  external_bbs_database_password: ((external_db_password))
  external_bbs_database_port: 5432
  external_bbs_database_username: ((external_db_user))
  external_cc_database_address: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_cc_database_name: cloud_controller
  external_cc_database_password: ((external_db_password))
  external_cc_database_port: 5432
  external_cc_database_username: ((external_db_user))
  external_credhub_database_address: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_credhub_database_name: credhub
  external_credhub_database_password: ((external_db_password))
  external_credhub_database_port: 5432
  external_credhub_database_username: ((external_db_user))
  external_database_port: 5432
  external_database_type: postgres
  external_locket_database_address: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_locket_database_name: locket
  external_locket_database_password: ((external_db_password))
  external_locket_database_port: 5432
  external_locket_database_username: ((external_db_user))
  external_policy_server_database_address: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_policy_server_database_name: network_policy
  external_policy_server_database_password: ((external_db_password))
  external_policy_server_database_port: 5432
  external_policy_server_database_username: ((external_db_user))
  external_routing_api_database_address: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_routing_api_database_name: routing-api
  external_routing_api_database_password: ((external_db_password))
  external_routing_api_database_port: 5432
  external_routing_api_database_username: ((external_db_user))
  external_silk_controller_database_address: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_silk_controller_database_name: network_connectivity
  external_silk_controller_database_password: ((external_db_password))
  external_silk_controller_database_port: 5432
  external_silk_controller_database_username: ((external_db_user))
  external_uaa_database_address: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_uaa_database_name: uaa
  external_uaa_database_password: ((external_db_password))
  external_uaa_database_port: 5432
  external_uaa_database_username: ((external_db_user))
  fog_connection:
    aws_access_key_id: ((blobstore_access_key_id))
    aws_secret_access_key: ((blobstore_secret_access_key))
    provider: AWS
    region: us-west-2
  resource_directory_key: codex-uswest2-dev-resources
  system_domain: system.codex.starkandwayne.com
compilation:
  az: z1
  network: default
  reuse_compilation_vms: true
  vm_type: large
  workers: 5
disk_types:
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 2048
  name: default
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 2048
  name: consul
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 10240
  name: concourse
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 4096
  name: postgres
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 4096
  name: blobstore
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 1024
  name: vault
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 65536
  name: bosh
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 131072
  name: bosh-large
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 2048
  name: shield
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 51200
  name: prometheus
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 4096
  name: rabbitmq
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 5120
  name: 5GB
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 10240
  name: 10GB
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 100240
  name: 100GB
- cloud_properties:
    encrypted: true
    type: gp3
  disk_size: 10240
  name: minio
exodus:
  admin_password: ((cf_admin_password))
  admin_username: admin
  api_domain: api.system.codex.starkandwayne.com
  app_autoscaler_client: app_autoscaler_client
  app_autoscaler_secret: ((uaa_clients_app_autoscaler_secret))
  app_domains:
  - apps.codex.starkandwayne.com
  app_scheduler_client: app_scheduler_client
  app_scheduler_secret: ((uaa_clients_app_scheduler_secret))
  apps_domain: apps.codex.starkandwayne.com
  base_domain: codex.starkandwayne.com
  bosh: dev
  cf-deployment-date: 2022-Feb-14 03:48:47 UTC
  cf-deployment-hotfixes: true
  cf-deployment-url: https://github.com/cloudfoundry/cf-deployment/releases/tag/v16.25.0
  cf-deployment-version: 16.25.0
  core_network: cf-core
  dated: 2022-08-16 13:29:11 +0000
  db_network: cf-core
  deployer: unknown
  edge_network: cf-edge
  features: postgres-db,aws-blobstore,small-footprint,ssh-proxy-on-routers,app-scheduler-integration,smb-test-server,smb-volume-services,smb-volume-services-releases,app-autoscaler-integration,windows-releases,custom-router-group,cf-mgmt-uaa-client
  is_director: false
  kit_is_dev: false
  kit_name: cf
  kit_version: 2.2.0-rc.14
  loggregator_agent_metrics_tls_ca: ((loggregator_agent_metrics_tls.ca))
  loggregator_agent_metrics_tls_certificate: ((loggregator_agent_metrics_tls.certificate))
  loggregator_agent_metrics_tls_private_key: ((loggregator_agent_metrics_tls.private_key))
  loggregator_ca: ((loggregator_ca.certificate))
  loggregator_tls_agent_cert: ((loggregator_tls_agent.certificate))
  loggregator_tls_agent_key: ((loggregator_tls_agent.private_key))
  loggregator_tls_rlp_cert: ((loggregator_tls_rlp.certificate))
  loggregator_tls_rlp_key: ((loggregator_tls_rlp.private_key))
  runtime_network: cf-runtime
  system_domain: system.codex.starkandwayne.com
  system_org: system
  system_space: system
  use_create_env: false
  vault_base: /secret/dev/cf
  vaulted_uaa_clients: /secret/dev/cf/uaa/client_secrets:firehose
  version: 2.8.4
features:
  randomize_az_placement: true
genesis:
  ci_mount: /secret/ci/
  env: dev
  exodus_mount: /secret/exodus/
  exodus_path: dev/cf
  min_version: 2.8.4
  secrets_mount: /secret/
  secrets_path: dev/cf
instance_groups:
- azs:
  - z1
  instances: 1
  jobs:
  - name: smoke_tests
    properties:
      bpm:
        enabled: true
      smoke_tests:
        api: https://api.((system_domain))
        apps_domain: apps.codex.starkandwayne.com
        cf_dial_timeout_in_seconds: 300
        client: cf_smoke_tests
        client_secret: ((uaa_clients_cf_smoke_tests_secret))
        org: cf_smoke_tests_org
        skip_ssl_validation: true
        space: cf_smoke_tests_space
    release: cf-smoke-tests
  - name: cf-cli-7-linux
    release: cf-cli
  lifecycle: errand
  name: smoke-tests
  networks:
  - name: ((cf_runtime_network))
  stemcell: default
  vm_type: errand
- azs:
  - z1
  instances: 1
  jobs:
  - name: nats
    properties:
      nats:
        hostname: nats.service.cf.internal
        internal:
          tls:
            ca: ((nats_internal_cert.ca))
            certificate: ((nats_internal_cert.certificate))
            enabled: true
            private_key: ((nats_internal_cert.private_key))
        password: ((nats_password))
        user: nats
    provides:
      nats:
        as: nats
        shared: true
    release: nats
  - custom_provider_definitions:
    - name: nats-tls-address
      type: address
    name: nats-tls
    properties:
      nats:
        external:
          tls:
            ca: ((nats_client_cert.ca))
            certificate: ((nats_server_cert.certificate))
            private_key: ((nats_server_cert.private_key))
        hostname: nats.service.cf.internal
        internal:
          tls:
            ca: ((nats_internal_cert.ca))
            certificate: ((nats_internal_cert.certificate))
            enabled: true
            private_key: ((nats_internal_cert.private_key))
        password: ((nats_password))
        user: nats
    provides:
      nats-tls:
        as: nats-tls
        shared: true
    release: nats
  name: nats
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_type: nats
- azs:
  - z1
  instances: 1
  jobs:
  - name: cfdot
    properties:
      tls:
        ca_certificate: ((diego_rep_client.ca))
        certificate: ((diego_rep_client.certificate))
        private_key: ((diego_rep_client.private_key))
    release: diego
  - name: bbs
    properties:
      bpm:
        enabled: true
      diego:
        bbs:
          active_key_label: key-2016-06
          auctioneer:
            ca_cert: ((diego_auctioneer_client.ca))
            client_cert: ((diego_auctioneer_client.certificate))
            client_key: ((diego_auctioneer_client.private_key))
          ca_cert: ((diego_bbs_server.ca))
          detect_consul_cell_registrations: false
          encryption_keys:
          - label: key-2016-06
            passphrase: ((diego_bbs_encryption_keys_passphrase))
          rep:
            ca_cert: ((diego_rep_client.ca))
            client_cert: ((diego_rep_client.certificate))
            client_key: ((diego_rep_client.private_key))
            require_tls: true
          server_cert: ((diego_bbs_server.certificate))
          server_key: ((diego_bbs_server.private_key))
          skip_consul_lock: true
          sql:
            db_driver: ((external_database_type))
            db_host: ((external_bbs_database_address))
            db_password: ((external_bbs_database_password))
            db_port: ((external_bbs_database_port))
            db_schema: ((external_bbs_database_name))
            db_username: ((external_bbs_database_username))
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: rfc3339
      loggregator:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
        use_v2_api: true
    release: diego
  - consumes:
      database: nil
    name: silk-controller
    properties:
      ca_cert: ((silk_controller.ca))
      database:
        ca_cert: |
          -----BEGIN CERTIFICATE-----
          MIIEBjCCAu6gAwIBAgIJAMc0ZzaSUK51MA0GCSqGSIb3DQEBCwUAMIGPMQswCQYD
          VQQGEwJVUzEQMA4GA1UEBwwHU2VhdHRsZTETMBEGA1UECAwKV2FzaGluZ3RvbjEi
          MCAGA1UECgwZQW1hem9uIFdlYiBTZXJ2aWNlcywgSW5jLjETMBEGA1UECwwKQW1h
          em9uIFJEUzEgMB4GA1UEAwwXQW1hem9uIFJEUyBSb290IDIwMTkgQ0EwHhcNMTkw
          ODIyMTcwODUwWhcNMjQwODIyMTcwODUwWjCBjzELMAkGA1UEBhMCVVMxEDAOBgNV
          BAcMB1NlYXR0bGUxEzARBgNVBAgMCldhc2hpbmd0b24xIjAgBgNVBAoMGUFtYXpv
          biBXZWIgU2VydmljZXMsIEluYy4xEzARBgNVBAsMCkFtYXpvbiBSRFMxIDAeBgNV
          BAMMF0FtYXpvbiBSRFMgUm9vdCAyMDE5IENBMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEArXnF/E6/Qh+ku3hQTSKPMhQQlCpoWvnIthzX6MK3p5a0eXKZ
          oWIjYcNNG6UwJjp4fUXl6glp53Jobn+tWNX88dNH2n8DVbppSwScVE2LpuL+94vY
          0EYE/XxN7svKea8YvlrqkUBKyxLxTjh+U/KrGOaHxz9v0l6ZNlDbuaZw3qIWdD/I
          6aNbGeRUVtpM6P+bWIoxVl/caQylQS6CEYUk+CpVyJSkopwJlzXT07tMoDL5WgX9
          O08KVgDNz9qP/IGtAcRduRcNioH3E9v981QO1zt/Gpb2f8NqAjUUCUZzOnij6mx9
          McZ+9cWX88CRzR0vQODWuZscgI08NvM69Fn2SQIDAQABo2MwYTAOBgNVHQ8BAf8E
          BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUc19g2LzLA5j0Kxc0LjZa
          pmD/vB8wHwYDVR0jBBgwFoAUc19g2LzLA5j0Kxc0LjZapmD/vB8wDQYJKoZIhvcN
          AQELBQADggEBAHAG7WTmyjzPRIM85rVj+fWHsLIvqpw6DObIjMWokpliCeMINZFV
          ynfgBKsf1ExwbvJNzYFXW6dihnguDG9VMPpi2up/ctQTN8tm9nDKOy08uNZoofMc
          NUZxKCEkVKZv+IL4oHoeayt8egtv3ujJM6V14AstMQ6SwvwvA93EP/Ug2e4WAXHu
          cbI1NAbUgVDqp+DRdfvZkgYKryjTWd/0+1fS8X1bBZVWzl7eirNVnHbSH2ZDpNuY
          0SBd8dj5F6ld3t58ydZbrTHze7JJOd8ijySAp4/kiu9UfZWuTPABzDa/DSdz9Dk/
          zPW4CXXvhLmE02TA9/HeCw3KEHIwicNuEfw=
          -----END CERTIFICATE-----
        host: ((external_silk_controller_database_address))
        name: ((external_silk_controller_database_name))
        password: ((external_silk_controller_database_password))
        port: ((external_silk_controller_database_port))
        require_ssl: true
        type: ((external_database_type))
        username: ((external_silk_controller_database_username))
      server_cert: ((silk_controller.certificate))
      server_key: ((silk_controller.private_key))
      silk_daemon:
        ca_cert: ((silk_daemon.ca))
        client_cert: ((silk_daemon.certificate))
        client_key: ((silk_daemon.private_key))
    release: silk
  - name: locket
    properties:
      bpm:
        enabled: true
      diego:
        locket:
          sql:
            db_driver: ((external_database_type))
            db_host: ((external_locket_database_address))
            db_password: ((external_locket_database_password))
            db_port: ((external_locket_database_port))
            db_schema: ((external_locket_database_name))
            db_username: ((external_locket_database_username))
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: rfc3339
      loggregator:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
        use_v2_api: true
      tls:
        ca_cert: ((diego_locket_server.ca))
        cert: ((diego_locket_server.certificate))
        key: ((diego_locket_server.private_key))
    release: diego
  - name: loggr-udp-forwarder
    properties:
      loggregator:
        tls:
          ca: ((loggregator_tls_agent.ca))
          cert: ((loggregator_tls_agent.certificate))
          key: ((loggregator_tls_agent.private_key))
      metrics:
        ca_cert: ((loggr_udp_forwarder_tls.ca))
        cert: ((loggr_udp_forwarder_tls.certificate))
        key: ((loggr_udp_forwarder_tls.private_key))
        server_name: loggr_udp_forwarder_metrics
    release: loggregator-agent
  migrated_from:
  - name: diego-bbs
  name: diego-api
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_type: diego-api
- azs:
  - z1
  instances: 1
  jobs:
  - consumes:
      database: nil
    name: uaa
    properties:
      encryption:
        active_key_label: default_key
        encryption_keys:
        - label: default_key
          passphrase: ((uaa_default_encryption_passphrase))
      login:
        branding:
          footer_legal_text: null
          footer_links: null
          product_logo: null
          square_logo: null
        links:
          passwd: https://login.system.codex.starkandwayne.com/forgot_password
          signup: https://login.system.codex.starkandwayne.com/create_account
        saml:
          activeKeyId: key-1
          keys:
            key-1:
              certificate: ((uaa_login_saml.certificate))
              key: ((uaa_login_saml.private_key))
              passphrase: ""
      uaa:
        admin:
          client_secret: ((uaa_admin_client_secret))
        ca_certs:
        - |
          -----BEGIN CERTIFICATE-----
          MIIEBjCCAu6gAwIBAgIJAMc0ZzaSUK51MA0GCSqGSIb3DQEBCwUAMIGPMQswCQYD
          VQQGEwJVUzEQMA4GA1UEBwwHU2VhdHRsZTETMBEGA1UECAwKV2FzaGluZ3RvbjEi
          MCAGA1UECgwZQW1hem9uIFdlYiBTZXJ2aWNlcywgSW5jLjETMBEGA1UECwwKQW1h
          em9uIFJEUzEgMB4GA1UEAwwXQW1hem9uIFJEUyBSb290IDIwMTkgQ0EwHhcNMTkw
          ODIyMTcwODUwWhcNMjQwODIyMTcwODUwWjCBjzELMAkGA1UEBhMCVVMxEDAOBgNV
          BAcMB1NlYXR0bGUxEzARBgNVBAgMCldhc2hpbmd0b24xIjAgBgNVBAoMGUFtYXpv
          biBXZWIgU2VydmljZXMsIEluYy4xEzARBgNVBAsMCkFtYXpvbiBSRFMxIDAeBgNV
          BAMMF0FtYXpvbiBSRFMgUm9vdCAyMDE5IENBMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEArXnF/E6/Qh+ku3hQTSKPMhQQlCpoWvnIthzX6MK3p5a0eXKZ
          oWIjYcNNG6UwJjp4fUXl6glp53Jobn+tWNX88dNH2n8DVbppSwScVE2LpuL+94vY
          0EYE/XxN7svKea8YvlrqkUBKyxLxTjh+U/KrGOaHxz9v0l6ZNlDbuaZw3qIWdD/I
          6aNbGeRUVtpM6P+bWIoxVl/caQylQS6CEYUk+CpVyJSkopwJlzXT07tMoDL5WgX9
          O08KVgDNz9qP/IGtAcRduRcNioH3E9v981QO1zt/Gpb2f8NqAjUUCUZzOnij6mx9
          McZ+9cWX88CRzR0vQODWuZscgI08NvM69Fn2SQIDAQABo2MwYTAOBgNVHQ8BAf8E
          BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUc19g2LzLA5j0Kxc0LjZa
          pmD/vB8wHwYDVR0jBBgwFoAUc19g2LzLA5j0Kxc0LjZapmD/vB8wDQYJKoZIhvcN
          AQELBQADggEBAHAG7WTmyjzPRIM85rVj+fWHsLIvqpw6DObIjMWokpliCeMINZFV
          ynfgBKsf1ExwbvJNzYFXW6dihnguDG9VMPpi2up/ctQTN8tm9nDKOy08uNZoofMc
          NUZxKCEkVKZv+IL4oHoeayt8egtv3ujJM6V14AstMQ6SwvwvA93EP/Ug2e4WAXHu
          cbI1NAbUgVDqp+DRdfvZkgYKryjTWd/0+1fS8X1bBZVWzl7eirNVnHbSH2ZDpNuY
          0SBd8dj5F6ld3t58ydZbrTHze7JJOd8ijySAp4/kiu9UfZWuTPABzDa/DSdz9Dk/
          zPW4CXXvhLmE02TA9/HeCw3KEHIwicNuEfw=
          -----END CERTIFICATE-----
        clients:
          app_autoscaler_client:
            authorities: cloud_controller.read,cloud_controller.admin,uaa.resource
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_app_autoscaler_secret))
          app_scheduler_client:
            authorities: cloud_controller.read,cloud_controller.admin,uaa.resource
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_app_scheduler_secret))
          cc-service-dashboards:
            authorities: clients.read,clients.write,clients.admin
            authorized-grant-types: client_credentials
            scope: openid,cloud_controller_service_permissions.read
            secret: ((uaa_clients_cc-service-dashboards_secret))
          cc_routing:
            authorities: routing.router_groups.read
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_cc-routing_secret))
          cc_service_key_client:
            authorities: credhub.read,credhub.write
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_cc_service_key_client_secret))
          cf:
            access-token-validity: 1200
            authorities: uaa.none
            authorized-grant-types: password,refresh_token
            override: true
            refresh-token-validity: 2592000
            scope: network.admin,network.write,cloud_controller.read,cloud_controller.write,openid,password.write,cloud_controller.admin,scim.read,scim.write,doppler.firehose,uaa.user,routing.router_groups.read,routing.router_groups.write,cloud_controller.admin_read_only,cloud_controller.global_auditor,perm.admin,clients.read
            secret: ""
          cf_mgmt_client:
            authorities: routing.router_groups.read,scim.write,scim.read,cloud_controller.admin
            authorized-grant-types: client_credentials,refresh_token
            autoapprove: null
            resource_ids: none
            scope: routing.router_groups.read,scim.write,scim.read,cloud_controller.admin
            secret: ((cf_mgmt_client_secret))
          cf_smoke_tests:
            authorities: cloud_controller.admin,clients.read
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_cf_smoke_tests_secret))
          cloud_controller_username_lookup:
            authorities: scim.userids
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_cloud_controller_username_lookup_secret))
          credhub_admin_client:
            authorities: credhub.read,credhub.write
            authorized-grant-types: client_credentials
            secret: ((credhub_admin_client_secret))
          doppler:
            authorities: uaa.resource
            authorized-grant-types: client_credentials
            override: true
            secret: ((uaa_clients_doppler_secret))
          gorouter:
            authorities: routing.routes.read
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_gorouter_secret))
          network-policy:
            authorities: uaa.resource,cloud_controller.admin_read_only
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_network_policy_secret))
          routing_api_client:
            authorities: routing.routes.write,routing.routes.read,routing.router_groups.read
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_routing_api_client_secret))
          smb-broker-client:
            authorities: cloud_controller.admin,clients.read
            authorized-grant-types: client_credentials
            secret: ((smb-broker-uaa-client-secret))
          smb-broker-credhub-client:
            authorities: credhub.read,credhub.write
            authorized-grant-types: client_credentials
            secret: ((smb-broker-credhub-uaa-client-secret))
          ssh-proxy:
            authorized-grant-types: authorization_code
            autoapprove: true
            override: true
            redirect-uri: https://uaa.((system_domain))/login
            scope: openid,cloud_controller.read,cloud_controller.write,cloud_controller.admin
            secret: ((uaa_clients_ssh-proxy_secret))
          stratos_apps:
            access-token-validity: 1200
            authorities: uaa.none
            authorized-grant-types: authorization_code,client_credentials,refresh_token
            autoapprove: true
            override: true
            redirect-uri: https://apps.dev.codex.starkandwayne.com/pp/vl/auth/sso_login_callback
            refresh-token-validity: 2592000
            scope: network.admin,network.write, cloud_controller.read,cloud_controller.write,openid,password.write,cloud_controller.admin,scim.read,scim.write.doppler.firehose,uaa.user,routing.router_groups.read,routing.router_groups.write,cloud_controller.admin_read_only,cloud_controller.global_auditor,perm.admin,clients.read
            secret: ((stratos_client_secret))
          tcp_emitter:
            authorities: routing.routes.write,routing.routes.read
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_tcp_emitter_secret))
          tcp_router:
            authorities: routing.routes.read,routing.router_groups.read
            authorized-grant-types: client_credentials
            secret: ((uaa_clients_tcp_router_secret))
        jwt:
          policy:
            active_key_id: key-1
            keys:
              key-1:
                signingKey: ((uaa_jwt_signing_key.private_key))
        logging_level: INFO
        scim:
          users:
          - groups:
            - clients.read
            - cloud_controller.admin
            - doppler.firehose
            - network.admin
            - openid
            - routing.router_groups.read
            - routing.router_groups.write
            - scim.read
            - scim.write
            name: admin
            password: ((cf_admin_password))
        sslCertificate: ((uaa_ssl.certificate))
        sslPrivateKey: ((uaa_ssl.private_key))
        url: https://uaa.((system_domain))
        zones:
          internal:
            hostnames:
            - uaa.service.cf.internal
      uaadb:
        address: ((external_uaa_database_address))
        databases:
        - name: ((external_uaa_database_name))
          tag: uaa
        db_scheme: ((external_database_type))
        port: ((external_uaa_database_port))
        roles:
        - name: ((external_uaa_database_username))
          password: ((external_uaa_database_password))
          tag: admin
        tls: enabled
    release: uaa
  - name: route_registrar
    properties:
      nats:
        tls:
          client_cert: ((nats_client_cert.certificate))
          client_key: ((nats_client_cert.private_key))
          enabled: true
      route_registrar:
        routes:
        - health_check:
            name: uaa-healthcheck
            script_path: /var/vcap/jobs/uaa/bin/dns/healthy
          name: uaa
          registration_interval: 10s
          server_cert_domain_san: uaa.service.cf.internal
          tags:
            component: uaa
          tls_port: 8443
          uris:
          - uaa.((system_domain))
          - '*.uaa.((system_domain))'
          - login.((system_domain))
          - '*.login.((system_domain))'
    release: routing
  - name: statsd_injector
    properties:
      loggregator:
        tls:
          ca_cert: ((loggregator_tls_statsdinjector.ca))
          statsd_injector:
            cert: ((loggregator_tls_statsdinjector.certificate))
            key: ((loggregator_tls_statsdinjector.private_key))
    release: statsd-injector
  name: uaa
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_type: uaa
- azs:
  - z1
  instances: 1
  jobs:
  - consumes:
      database: nil
    name: cloud_controller_ng
    properties:
      app_domains:
      - apps.codex.starkandwayne.com
      app_ssh:
        host_key_fingerprint: ((diego_ssh_proxy_host_key.public_key_fingerprint))
      build: cf-genesis-kit v2.2.0-rc.14
      cc:
        buildpacks:
          buildpack_directory_key: ((buildpack_directory_key))
          fog_connection: ((fog_connection))
        bulk_api_password: ((cc_bulk_api_password))
        database_encryption:
          current_key_label: encryption_key_0
          keys:
            encryption_key_0: ((cc_db_encryption_key))
        db_encryption_key: ((cc_db_encryption_key))
        default_running_security_groups:
        - public_networks
        - dns
        default_staging_security_groups:
        - public_networks
        - dns
        diego:
          docker_staging_stack: cflinuxfs3
        droplets:
          droplet_directory_key: ((droplet_directory_key))
          fog_connection: ((fog_connection))
        install_buildpacks:
        - name: staticfile_buildpack
          package: staticfile-buildpack-cflinuxfs3
        - name: java_buildpack
          package: java-buildpack-cflinuxfs3
        - name: ruby_buildpack
          package: ruby-buildpack-cflinuxfs3
        - name: dotnet_core_buildpack
          package: dotnet-core-buildpack-cflinuxfs3
        - name: nodejs_buildpack
          package: nodejs-buildpack-cflinuxfs3
        - name: go_buildpack
          package: go-buildpack-cflinuxfs3
        - name: python_buildpack
          package: python-buildpack-cflinuxfs3
        - name: php_buildpack
          package: php-buildpack-cflinuxfs3
        - name: nginx_buildpack
          package: nginx-buildpack-cflinuxfs3
        - name: r_buildpack
          package: r-buildpack-cflinuxfs3
        - name: binary_buildpack
          package: binary-buildpack-cflinuxfs3
        internal_api_password: ((cc_internal_api_password))
        logcache_tls:
          certificate: ((cc_logcache_tls.certificate))
          private_key: ((cc_logcache_tls.private_key))
        min_cli_version: 6.23.0
        min_recommended_cli_version: 6.23.0
        mutual_tls:
          ca_cert: ((cc_tls.ca))
          private_key: ((cc_tls.private_key))
          public_cert: ((cc_tls.certificate))
        packages:
          app_package_directory_key: ((app_package_directory_key))
          fog_connection: ((fog_connection))
        public_tls:
          ca_cert: ((cc_public_tls.ca))
          certificate: ((cc_public_tls.certificate))
          private_key: ((cc_public_tls.private_key))
        resource_pool:
          fog_connection: ((fog_connection))
          resource_directory_key: ((resource_directory_key))
        security_group_definitions:
        - name: public_networks
          rules:
          - destination: 0.0.0.0-9.255.255.255
            protocol: all
          - destination: 11.0.0.0-169.253.255.255
            protocol: all
          - destination: 169.255.0.0-172.15.255.255
            protocol: all
          - destination: 172.32.0.0-192.167.255.255
            protocol: all
          - destination: 192.169.0.0-255.255.255.255
            protocol: all
        - name: dns
          rules:
          - destination: 0.0.0.0/0
            ports: "53"
            protocol: tcp
          - destination: 0.0.0.0/0
            ports: "53"
            protocol: udp
        stacks:
        - description: Cloud Foundry Linux-based filesystem (Ubuntu 18.04)
          name: cflinuxfs3
        staging_upload_password: ((cc_staging_upload_password))
        staging_upload_user: staging_user
        temporary_use_logcache: true
        volume_services_enabled: true
      ccdb:
        address: ((external_cc_database_address))
        databases:
        - name: ((external_cc_database_name))
          tag: cc
        db_scheme: ((external_database_type))
        port: ((external_cc_database_port))
        roles:
        - name: ((external_cc_database_username))
          password: ((external_cc_database_password))
          tag: admin
      credhub_api:
        ca_cert: ((credhub_tls.ca))
      description: Use `genesis info` on environment file for more details
      name: Cloud Foundry (dev)
      router:
        route_services_secret: ((router_route_services_secret))
      routing_api:
        enabled: true
      ssl:
        skip_cert_verify: true
      support_address: https://github.com/genesis-community/cf-genesis-kit
      system_domain: ((system_domain))
      uaa:
        ca_cert: ((uaa_ssl.ca))
        clients:
          cc-service-dashboards:
            secret: ((uaa_clients_cc-service-dashboards_secret))
          cc_routing:
            secret: ((uaa_clients_cc-routing_secret))
          cc_service_key_client:
            secret: ((uaa_clients_cc_service_key_client_secret))
          cloud_controller_username_lookup:
            secret: ((uaa_clients_cloud_controller_username_lookup_secret))
        url: https://uaa.((system_domain))
    provides:
      cloud_controller:
        as: cloud_controller
        shared: true
    release: capi
  - name: binary-buildpack
    release: binary-buildpack
  - name: dotnet-core-buildpack
    release: dotnet-core-buildpack
  - name: go-buildpack
    release: go-buildpack
  - name: java-buildpack
    release: java-buildpack
  - name: nodejs-buildpack
    release: nodejs-buildpack
  - name: nginx-buildpack
    release: nginx-buildpack
  - name: r-buildpack
    release: r-buildpack
  - name: php-buildpack
    release: php-buildpack
  - name: python-buildpack
    release: python-buildpack
  - name: ruby-buildpack
    release: ruby-buildpack
  - name: staticfile-buildpack
    release: staticfile-buildpack
  - name: route_registrar
    properties:
      nats:
        tls:
          client_cert: ((nats_client_cert.certificate))
          client_key: ((nats_client_cert.private_key))
          enabled: true
      route_registrar:
        routes:
        - health_check:
            name: api-health-check
            script_path: /var/vcap/jobs/cloud_controller_ng/bin/cloud_controller_ng_health_check
            timeout: 6s
          name: api
          port: 9022
          registration_interval: 10s
          server_cert_domain_san: api.((system_domain))
          tags:
            component: CloudController
          tls_port: 9024
          uris:
          - api.((system_domain))
        - name: policy-server
          registration_interval: 20s
          server_cert_domain_san: api.((system_domain))
          tls_port: 4002
          uris:
          - api.((system_domain))/networking
    release: routing
  - name: statsd_injector
    properties:
      loggregator:
        tls:
          ca_cert: ((loggregator_tls_statsdinjector.ca))
          statsd_injector:
            cert: ((loggregator_tls_statsdinjector.certificate))
            key: ((loggregator_tls_statsdinjector.private_key))
    release: statsd-injector
  - name: file_server
    properties:
      bpm:
        enabled: true
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: rfc3339
      loggregator:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
        use_v2_api: true
    release: diego
  - name: routing-api
    properties:
      routing_api:
        enabled_api_endpoints: both
        locket:
          api_location: locket.service.cf.internal:8891
          ca_cert: ((diego_locket_client.ca))
          client_cert: ((diego_locket_client.certificate))
          client_key: ((diego_locket_client.private_key))
        mtls_ca: ((routing_api_tls_client.ca))
        mtls_client_cert: ((routing_api_tls_client.certificate))
        mtls_client_key: ((routing_api_tls_client.private_key))
        mtls_server_cert: ((routing_api_tls.certificate))
        mtls_server_key: ((routing_api_tls.private_key))
        router_groups:
        - name: default-tcp
          reservable_ports: 40000-40099
          type: tcp
        skip_consul_lock: true
        sqldb:
          ca_cert: |
            -----BEGIN CERTIFICATE-----
            MIIEBjCCAu6gAwIBAgIJAMc0ZzaSUK51MA0GCSqGSIb3DQEBCwUAMIGPMQswCQYD
            VQQGEwJVUzEQMA4GA1UEBwwHU2VhdHRsZTETMBEGA1UECAwKV2FzaGluZ3RvbjEi
            MCAGA1UECgwZQW1hem9uIFdlYiBTZXJ2aWNlcywgSW5jLjETMBEGA1UECwwKQW1h
            em9uIFJEUzEgMB4GA1UEAwwXQW1hem9uIFJEUyBSb290IDIwMTkgQ0EwHhcNMTkw
            ODIyMTcwODUwWhcNMjQwODIyMTcwODUwWjCBjzELMAkGA1UEBhMCVVMxEDAOBgNV
            BAcMB1NlYXR0bGUxEzARBgNVBAgMCldhc2hpbmd0b24xIjAgBgNVBAoMGUFtYXpv
            biBXZWIgU2VydmljZXMsIEluYy4xEzARBgNVBAsMCkFtYXpvbiBSRFMxIDAeBgNV
            BAMMF0FtYXpvbiBSRFMgUm9vdCAyMDE5IENBMIIBIjANBgkqhkiG9w0BAQEFAAOC
            AQ8AMIIBCgKCAQEArXnF/E6/Qh+ku3hQTSKPMhQQlCpoWvnIthzX6MK3p5a0eXKZ
            oWIjYcNNG6UwJjp4fUXl6glp53Jobn+tWNX88dNH2n8DVbppSwScVE2LpuL+94vY
            0EYE/XxN7svKea8YvlrqkUBKyxLxTjh+U/KrGOaHxz9v0l6ZNlDbuaZw3qIWdD/I
            6aNbGeRUVtpM6P+bWIoxVl/caQylQS6CEYUk+CpVyJSkopwJlzXT07tMoDL5WgX9
            O08KVgDNz9qP/IGtAcRduRcNioH3E9v981QO1zt/Gpb2f8NqAjUUCUZzOnij6mx9
            McZ+9cWX88CRzR0vQODWuZscgI08NvM69Fn2SQIDAQABo2MwYTAOBgNVHQ8BAf8E
            BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUc19g2LzLA5j0Kxc0LjZa
            pmD/vB8wHwYDVR0jBBgwFoAUc19g2LzLA5j0Kxc0LjZapmD/vB8wDQYJKoZIhvcN
            AQELBQADggEBAHAG7WTmyjzPRIM85rVj+fWHsLIvqpw6DObIjMWokpliCeMINZFV
            ynfgBKsf1ExwbvJNzYFXW6dihnguDG9VMPpi2up/ctQTN8tm9nDKOy08uNZoofMc
            NUZxKCEkVKZv+IL4oHoeayt8egtv3ujJM6V14AstMQ6SwvwvA93EP/Ug2e4WAXHu
            cbI1NAbUgVDqp+DRdfvZkgYKryjTWd/0+1fS8X1bBZVWzl7eirNVnHbSH2ZDpNuY
            0SBd8dj5F6ld3t58ydZbrTHze7JJOd8ijySAp4/kiu9UfZWuTPABzDa/DSdz9Dk/
            zPW4CXXvhLmE02TA9/HeCw3KEHIwicNuEfw=
            -----END CERTIFICATE-----
          host: ((external_routing_api_database_address))
          password: ((external_routing_api_database_password))
          port: ((external_routing_api_database_port))
          schema: ((external_routing_api_database_name))
          type: ((external_database_type))
          username: ((external_routing_api_database_username))
        system_domain: ((system_domain))
      uaa:
        ca_cert: ((uaa_ssl.ca))
        tls_port: 8443
    release: routing
  - consumes:
      database: nil
    name: policy-server
    properties:
      database:
        ca_cert: |
          -----BEGIN CERTIFICATE-----
          MIIEBjCCAu6gAwIBAgIJAMc0ZzaSUK51MA0GCSqGSIb3DQEBCwUAMIGPMQswCQYD
          VQQGEwJVUzEQMA4GA1UEBwwHU2VhdHRsZTETMBEGA1UECAwKV2FzaGluZ3RvbjEi
          MCAGA1UECgwZQW1hem9uIFdlYiBTZXJ2aWNlcywgSW5jLjETMBEGA1UECwwKQW1h
          em9uIFJEUzEgMB4GA1UEAwwXQW1hem9uIFJEUyBSb290IDIwMTkgQ0EwHhcNMTkw
          ODIyMTcwODUwWhcNMjQwODIyMTcwODUwWjCBjzELMAkGA1UEBhMCVVMxEDAOBgNV
          BAcMB1NlYXR0bGUxEzARBgNVBAgMCldhc2hpbmd0b24xIjAgBgNVBAoMGUFtYXpv
          biBXZWIgU2VydmljZXMsIEluYy4xEzARBgNVBAsMCkFtYXpvbiBSRFMxIDAeBgNV
          BAMMF0FtYXpvbiBSRFMgUm9vdCAyMDE5IENBMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEArXnF/E6/Qh+ku3hQTSKPMhQQlCpoWvnIthzX6MK3p5a0eXKZ
          oWIjYcNNG6UwJjp4fUXl6glp53Jobn+tWNX88dNH2n8DVbppSwScVE2LpuL+94vY
          0EYE/XxN7svKea8YvlrqkUBKyxLxTjh+U/KrGOaHxz9v0l6ZNlDbuaZw3qIWdD/I
          6aNbGeRUVtpM6P+bWIoxVl/caQylQS6CEYUk+CpVyJSkopwJlzXT07tMoDL5WgX9
          O08KVgDNz9qP/IGtAcRduRcNioH3E9v981QO1zt/Gpb2f8NqAjUUCUZzOnij6mx9
          McZ+9cWX88CRzR0vQODWuZscgI08NvM69Fn2SQIDAQABo2MwYTAOBgNVHQ8BAf8E
          BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUc19g2LzLA5j0Kxc0LjZa
          pmD/vB8wHwYDVR0jBBgwFoAUc19g2LzLA5j0Kxc0LjZapmD/vB8wDQYJKoZIhvcN
          AQELBQADggEBAHAG7WTmyjzPRIM85rVj+fWHsLIvqpw6DObIjMWokpliCeMINZFV
          ynfgBKsf1ExwbvJNzYFXW6dihnguDG9VMPpi2up/ctQTN8tm9nDKOy08uNZoofMc
          NUZxKCEkVKZv+IL4oHoeayt8egtv3ujJM6V14AstMQ6SwvwvA93EP/Ug2e4WAXHu
          cbI1NAbUgVDqp+DRdfvZkgYKryjTWd/0+1fS8X1bBZVWzl7eirNVnHbSH2ZDpNuY
          0SBd8dj5F6ld3t58ydZbrTHze7JJOd8ijySAp4/kiu9UfZWuTPABzDa/DSdz9Dk/
          zPW4CXXvhLmE02TA9/HeCw3KEHIwicNuEfw=
          -----END CERTIFICATE-----
        host: ((external_policy_server_database_address))
        name: ((external_policy_server_database_name))
        password: ((external_policy_server_database_password))
        port: ((external_policy_server_database_port))
        require_ssl: true
        type: ((external_database_type))
        username: ((external_policy_server_database_username))
      enable_space_developer_self_service: true
      enable_tls: true
      server_cert: ((network_policy_server_external.certificate))
      server_key: ((network_policy_server_external.private_key))
      uaa_ca: ((uaa_ssl.ca))
      uaa_client_secret: ((uaa_clients_network_policy_secret))
    release: cf-networking
  - name: policy-server-internal
    properties:
      ca_cert: ((network_policy_server.ca))
      server_cert: ((network_policy_server.certificate))
      server_key: ((network_policy_server.private_key))
    release: cf-networking
  - name: cc_uploader
    properties:
      capi:
        cc_uploader:
          cc:
            ca_cert: ((cc_bridge_cc_uploader.ca))
            client_cert: ((cc_bridge_cc_uploader.certificate))
            client_key: ((cc_bridge_cc_uploader.private_key))
          mutual_tls:
            ca_cert: ((cc_bridge_cc_uploader_server.ca))
            server_cert: ((cc_bridge_cc_uploader_server.certificate))
            server_key: ((cc_bridge_cc_uploader_server.private_key))
    release: capi
  - name: loggr-udp-forwarder
    properties:
      loggregator:
        tls:
          ca: ((loggregator_tls_agent.ca))
          cert: ((loggregator_tls_agent.certificate))
          key: ((loggregator_tls_agent.private_key))
      metrics:
        ca_cert: ((loggr_udp_forwarder_tls.ca))
        cert: ((loggr_udp_forwarder_tls.certificate))
        key: ((loggr_udp_forwarder_tls.private_key))
        server_name: loggr_udp_forwarder_metrics
    release: loggregator-agent
  name: api
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_extensions:
  - 50GB_ephemeral_disk
  vm_type: api
- azs:
  - z1
  instances: 1
  jobs:
  - consumes:
      database: nil
    name: cloud_controller_worker
    properties:
      cc:
        buildpacks:
          buildpack_directory_key: ((buildpack_directory_key))
          fog_connection: ((fog_connection))
        database_encryption:
          current_key_label: encryption_key_0
          keys:
            encryption_key_0: ((cc_db_encryption_key))
        db_encryption_key: ((cc_db_encryption_key))
        droplets:
          droplet_directory_key: ((droplet_directory_key))
          fog_connection: ((fog_connection))
        internal_api_password: ((cc_internal_api_password))
        mutual_tls:
          ca_cert: ((cc_tls.ca))
          private_key: ((cc_tls.private_key))
          public_cert: ((cc_tls.certificate))
        packages:
          app_package_directory_key: ((app_package_directory_key))
          fog_connection: ((fog_connection))
        resource_pool:
          fog_connection: ((fog_connection))
          resource_directory_key: ((resource_directory_key))
        staging_upload_password: ((cc_staging_upload_password))
        staging_upload_user: staging_user
        volume_services_enabled: true
      ccdb:
        address: ((external_cc_database_address))
        databases:
        - name: ((external_cc_database_name))
          tag: cc
        db_scheme: ((external_database_type))
        port: ((external_database_port))
        roles:
        - name: ((external_cc_database_username))
          password: ((external_cc_database_password))
          tag: admin
      routing_api:
        enabled: true
      ssl:
        skip_cert_verify: true
      system_domain: ((system_domain))
      uaa:
        ca_cert: ((uaa_ssl.ca))
        clients:
          cc-service-dashboards:
            secret: ((uaa_clients_cc-service-dashboards_secret))
          cc_routing:
            secret: ((uaa_clients_cc-routing_secret))
    release: capi
  name: cc-worker
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_type: cc-worker
- azs:
  - z1
  instances: 1
  jobs:
  - name: cfdot
    properties:
      tls:
        ca_certificate: ((diego_rep_client.ca))
        certificate: ((diego_rep_client.certificate))
        private_key: ((diego_rep_client.private_key))
    release: diego
  - name: auctioneer
    properties:
      bpm:
        enabled: true
      diego:
        auctioneer:
          bbs:
            ca_cert: ((diego_bbs_client.ca))
            client_cert: ((diego_bbs_client.certificate))
            client_key: ((diego_bbs_client.private_key))
          ca_cert: ((diego_auctioneer_server.ca))
          rep:
            ca_cert: ((diego_rep_client.ca))
            client_cert: ((diego_rep_client.certificate))
            client_key: ((diego_rep_client.private_key))
            require_tls: true
          server_cert: ((diego_auctioneer_server.certificate))
          server_key: ((diego_auctioneer_server.private_key))
          skip_consul_lock: true
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: rfc3339
      loggregator:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
        use_v2_api: true
    release: diego
  - consumes:
      database: nil
    name: cloud_controller_clock
    properties:
      cc:
        buildpacks:
          buildpack_directory_key: ((buildpack_directory_key))
          fog_connection: ((fog_connection))
        database_encryption:
          current_key_label: encryption_key_0
          keys:
            encryption_key_0: ((cc_db_encryption_key))
        db_encryption_key: ((cc_db_encryption_key))
        droplets:
          droplet_directory_key: ((droplet_directory_key))
          fog_connection: ((fog_connection))
        internal_api_password: ((cc_internal_api_password))
        mutual_tls:
          ca_cert: ((cc_tls.ca))
          private_key: ((cc_tls.private_key))
          public_cert: ((cc_tls.certificate))
        packages:
          app_package_directory_key: ((app_package_directory_key))
          fog_connection: ((fog_connection))
        resource_pool:
          fog_connection: ((fog_connection))
          resource_directory_key: ((resource_directory_key))
        staging_upload_password: ((cc_staging_upload_password))
        staging_upload_user: staging_user
        volume_services_enabled: true
      ccdb:
        address: ((external_cc_database_address))
        databases:
        - name: ((external_cc_database_name))
          tag: cc
        db_scheme: ((external_database_type))
        port: ((external_database_port))
        roles:
        - name: ((external_cc_database_username))
          password: ((external_cc_database_password))
          tag: admin
      routing_api:
        enabled: true
      ssl:
        skip_cert_verify: true
      system_domain: ((system_domain))
      uaa:
        ca_cert: ((uaa_ssl.ca))
        clients:
          cc-service-dashboards:
            secret: ((uaa_clients_cc-service-dashboards_secret))
          cc_routing:
            secret: ((uaa_clients_cc-routing_secret))
        ssl:
          port: 8443
    release: capi
  - consumes:
      database: nil
    name: cc_deployment_updater
    properties:
      cc:
        db_encryption_key: ((cc_db_encryption_key))
        mutual_tls:
          ca_cert: ((cc_tls.ca))
          private_key: ((cc_tls.private_key))
          public_cert: ((cc_tls.certificate))
      ccdb:
        address: ((external_cc_database_address))
        databases:
        - name: ((external_cc_database_name))
          tag: cc
        db_scheme: ((external_database_type))
        port: ((external_cc_database_port))
        roles:
        - name: ((external_cc_database_username))
          password: ((external_cc_database_password))
          tag: admin
    release: capi
  - name: service-discovery-controller
    properties:
      dnshttps:
        client:
          ca: ((cf_app_sd_server_tls.ca))
        server:
          tls: ((cf_app_sd_server_tls))
      nats:
        cert_chain: ((nats_client_cert.certificate))
        private_key: ((nats_client_cert.private_key))
        tls_enabled: true
    release: cf-networking
  - name: statsd_injector
    properties:
      loggregator:
        tls:
          ca_cert: ((loggregator_tls_statsdinjector.ca))
          statsd_injector:
            cert: ((loggregator_tls_statsdinjector.certificate))
            key: ((loggregator_tls_statsdinjector.private_key))
    release: statsd-injector
  - name: tps
    properties:
      capi:
        tps:
          bbs:
            ca_cert: ((diego_bbs_client.ca))
            client_cert: ((diego_bbs_client.certificate))
            client_key: ((diego_bbs_client.private_key))
          cc:
            ca_cert: ((cc_bridge_tps.ca))
            client_cert: ((cc_bridge_tps.certificate))
            client_key: ((cc_bridge_tps.private_key))
          watcher:
            locket:
              api_location: locket.service.cf.internal:8891
            skip_consul_lock: true
    release: capi
  - name: ssh_proxy
    properties:
      backends:
        tls:
          ca_certificates:
          - ((diego_instance_identity_ca.ca))
          client_certificate: ((ssh_proxy_backends_tls.certificate))
          client_private_key: ((ssh_proxy_backends_tls.private_key))
          enabled: true
      bpm:
        enabled: true
      diego:
        ssh_proxy:
          bbs:
            ca_cert: ((diego_bbs_client.ca))
            client_cert: ((diego_bbs_client.certificate))
            client_key: ((diego_bbs_client.private_key))
          disable_healthcheck_server: true
          enable_cf_auth: true
          host_key: ((diego_ssh_proxy_host_key.private_key))
          uaa:
            ca_cert: ((uaa_ssl.ca))
          uaa_secret: ((uaa_clients_ssh-proxy_secret))
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: rfc3339
      loggregator:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
        use_v2_api: true
    release: diego
  - name: loggr-syslog-binding-cache
    properties:
      api:
        tls:
          ca_cert: ((cc_tls.ca))
          cert: ((binding_cache_api_tls.certificate))
          cn: cloud-controller-ng.service.cf.internal
          key: ((binding_cache_api_tls.private_key))
      external_port: 9000
      metrics:
        ca_cert: ((loggr_syslog_binding_cache_metrics_tls.ca))
        cert: ((loggr_syslog_binding_cache_metrics_tls.certificate))
        key: ((loggr_syslog_binding_cache_metrics_tls.private_key))
        server_name: loggr_syslog_binding_cache_metrics
      tls:
        ca_cert: ((binding_cache_tls.ca))
        cert: ((binding_cache_tls.certificate))
        cn: binding-cache
        key: ((binding_cache_tls.private_key))
    release: loggregator-agent
  - name: loggr-udp-forwarder
    properties:
      loggregator:
        tls:
          ca: ((loggregator_tls_agent.ca))
          cert: ((loggregator_tls_agent.certificate))
          key: ((loggregator_tls_agent.private_key))
      metrics:
        ca_cert: ((loggr_udp_forwarder_tls.ca))
        cert: ((loggr_udp_forwarder_tls.certificate))
        key: ((loggr_udp_forwarder_tls.private_key))
        server_name: loggr_udp_forwarder_metrics
    release: loggregator-agent
  migrated_from:
  - name: cc-bridge
  - name: cc-clock
  - name: diego-brain
  name: scheduler
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_extensions: []
  vm_type: scheduler
- azs:
  - z1
  instances: 1
  jobs:
  - name: gorouter
    properties:
      nats:
        cert_chain: ((nats_client_cert.certificate))
        private_key: ((nats_client_cert.private_key))
        tls_enabled: true
      router:
        backends:
          cert_chain: ((gorouter_backend_tls.certificate))
          private_key: ((gorouter_backend_tls.private_key))
        ca_certs: |
          ((diego_instance_identity_ca.ca))
          ((cc_tls.ca))
          ((uaa_ssl.ca))
          ((network_policy_server_external.ca))
        enable_ssl: true
        route_services_secret: ((router_route_services_secret))
        status:
          password: ((router_status_password))
          user: router-status
        tls_pem:
        - cert_chain: ((router_ssl.certificate))
          private_key: ((router_ssl.private_key))
        tracing:
          enable_zipkin: true
      routing_api:
        enabled: true
      uaa:
        ca_cert: ((uaa_ssl.ca))
        clients:
          gorouter:
            secret: ((uaa_clients_gorouter_secret))
        ssl:
          port: 8443
    release: routing
  - name: loggr-udp-forwarder
    properties:
      loggregator:
        tls:
          ca: ((loggregator_tls_agent.ca))
          cert: ((loggregator_tls_agent.certificate))
          key: ((loggregator_tls_agent.private_key))
      metrics:
        ca_cert: ((loggr_udp_forwarder_tls.ca))
        cert: ((loggr_udp_forwarder_tls.certificate))
        key: ((loggr_udp_forwarder_tls.private_key))
        server_name: loggr_udp_forwarder_metrics
    release: loggregator-agent
  - name: ssh_proxy
    properties:
      backends:
        tls:
          ca_certificates:
          - ((diego_instance_identity_ca.ca))
          client_certificate: ((ssh_proxy_backends_tls.certificate))
          client_private_key: ((ssh_proxy_backends_tls.private_key))
          enabled: true
      bpm:
        enabled: true
      diego:
        ssh_proxy:
          bbs:
            ca_cert: ((diego_bbs_client.ca))
            client_cert: ((diego_bbs_client.certificate))
            client_key: ((diego_bbs_client.private_key))
          disable_healthcheck_server: true
          enable_cf_auth: true
          host_key: ((diego_ssh_proxy_host_key.private_key))
          uaa:
            ca_cert: ((uaa_ssl.ca))
          uaa_secret: ((uaa_clients_ssh-proxy_secret))
      enable_consul_service_registration: false
      logging:
        format:
          timestamp: rfc3339
      loggregator:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
        use_v2_api: true
    release: diego
  name: router
  networks:
  - name: ((cf_edge_network))
  stemcell: default
  update:
    serial: true
  vm_extensions:
  - cf-router-network-properties
  - diego-ssh-proxy-network-properties
  vm_type: router
- azs:
  - z1
  instances: 1
  jobs:
  - name: tcp_router
    properties:
      tcp_router:
        oauth_secret: ((uaa_clients_tcp_router_secret))
        router_group: default-tcp
      uaa:
        ca_cert: ((uaa_ssl.ca))
        tls_port: 8443
    release: routing
  - name: loggr-udp-forwarder
    properties:
      loggregator:
        tls:
          ca: ((loggregator_tls_agent.ca))
          cert: ((loggregator_tls_agent.certificate))
          key: ((loggregator_tls_agent.private_key))
      metrics:
        ca_cert: ((loggr_udp_forwarder_tls.ca))
        cert: ((loggr_udp_forwarder_tls.certificate))
        key: ((loggr_udp_forwarder_tls.private_key))
        server_name: loggr_udp_forwarder_metrics
    release: loggregator-agent
  name: tcp-router
  networks:
  - name: ((cf_edge_network))
  stemcell: default
  vm_extensions:
  - cf-tcp-router-network-properties
  vm_type: tcp-router
- azs:
  - z1
  instances: 1
  jobs:
  - name: doppler
    properties:
      loggregator:
        tls:
          ca_cert: ((loggregator_tls_doppler.ca))
          doppler:
            cert: ((loggregator_tls_doppler.certificate))
            key: ((loggregator_tls_doppler.private_key))
    provides:
      doppler:
        as: doppler
        shared: true
    release: loggregator
  - name: log-cache
    properties:
      health_addr: localhost:6060
      metrics:
        ca_cert: ((log_cache_metrics_tls.ca))
        cert: ((log_cache_metrics_tls.certificate))
        key: ((log_cache_metrics_tls.private_key))
        server_name: log_cache_metrics
      tls:
        ca_cert: ((log_cache.ca))
        cert: ((log_cache.certificate))
        key: ((log_cache.private_key))
    provides:
      log-cache:
        shared: true
    release: log-cache
  - name: log-cache-gateway
    properties:
      gateway_addr: localhost:8081
      metrics:
        ca_cert: ((log_cache_gateway_metrics_tls.ca))
        cert: ((log_cache_gateway_metrics_tls.certificate))
        key: ((log_cache_gateway_metrics_tls.private_key))
        server_name: log_cache_gateway_metrics
      proxy_cert: ((log_cache_proxy_tls.certificate))
      proxy_key: ((log_cache_proxy_tls.private_key))
    release: log-cache
  - consumes:
      reverse_log_proxy:
        from: reverse_log_proxy
    name: log-cache-nozzle
    properties:
      logs_provider:
        tls:
          ca_cert: ((logs_provider.ca))
          cert: ((logs_provider.certificate))
          key: ((logs_provider.private_key))
      metrics:
        ca_cert: ((log_cache_nozzle_metrics_tls.ca))
        cert: ((log_cache_nozzle_metrics_tls.certificate))
        key: ((log_cache_nozzle_metrics_tls.private_key))
        server_name: log_cache_nozzle_metrics
    release: log-cache
  - name: route_registrar
    properties:
      nats:
        tls:
          client_cert: ((nats_client_cert.certificate))
          client_key: ((nats_client_cert.private_key))
          enabled: true
      route_registrar:
        routes:
        - name: log-cache-reverse-proxy
          port: 8083
          registration_interval: 20s
          server_cert_domain_san: log-cache.((system_domain))
          tls_port: 8083
          uris:
          - log-cache.((system_domain))
          - '*.log-cache.((system_domain))'
    release: routing
  - name: log-cache-cf-auth-proxy
    properties:
      cc:
        ca_cert: ((cc_tls.ca))
        common_name: cloud-controller-ng.service.cf.internal
      external_cert: ((logcache_ssl.certificate))
      external_key: ((logcache_ssl.private_key))
      metrics:
        ca_cert: ((log_cache_cf_auth_proxy_metrics_tls.ca))
        cert: ((log_cache_cf_auth_proxy_metrics_tls.certificate))
        key: ((log_cache_cf_auth_proxy_metrics_tls.private_key))
        server_name: log_cache_cf_auth_proxy_metrics
      proxy_ca_cert: ((log_cache.ca))
      proxy_port: 8083
      uaa:
        ca_cert: ((uaa_ssl.ca))
        client_id: doppler
        client_secret: ((uaa_clients_doppler_secret))
        internal_addr: https://uaa.service.cf.internal:8443
    release: log-cache
  name: doppler
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_type: doppler
- azs:
  - z1
  instances: 2
  jobs:
  - name: bosh-dns-adapter
    properties:
      dnshttps:
        client:
          tls: ((cf_app_sd_client_tls))
        server:
          ca: ((cf_app_sd_client_tls.ca))
      internal_domains:
      - apps.internal.
    release: cf-networking
  - name: cflinuxfs3-rootfs-setup
    properties:
      cflinuxfs3-rootfs:
        trusted_certs:
        - ((diego_instance_identity_ca.ca))
        - ((credhub_tls.ca))
        - ((uaa_ssl.ca))
    release: cflinuxfs3
  - name: garden
    properties:
      garden:
        cleanup_process_dirs_on_wait: true
        containerd_mode: true
        debug_listen_address: 127.0.0.1:17019
        default_container_grace_time: 0
        deny_networks:
        - 0.0.0.0/0
        destroy_containers_on_start: true
        network_plugin: /var/vcap/packages/runc-cni/bin/garden-external-networker
        network_plugin_extra_args:
        - --configFile=/var/vcap/jobs/garden-cni/config/adapter.json
      logging:
        format:
          timestamp: rfc3339
    release: garden-runc
  - name: rep
    properties:
      bpm:
        enabled: true
      containers:
        proxy:
          enabled: true
          require_and_verify_client_certificates: true
          trusted_ca_certificates:
          - ((gorouter_backend_tls.ca))
          - ((ssh_proxy_backends_tls.ca))
          verify_subject_alt_name:
          - gorouter.service.cf.internal
          - ssh-proxy.service.cf.internal
        trusted_ca_certificates:
        - ((diego_instance_identity_ca.ca))
        - ((credhub_tls.ca))
        - ((uaa_ssl.ca))
      diego:
        executor:
          instance_identity_ca_cert: ((diego_instance_identity_ca.certificate))
          instance_identity_key: ((diego_instance_identity_ca.private_key))
        rep:
          preloaded_rootfses:
          - cflinuxfs3:/var/vcap/packages/cflinuxfs3/rootfs.tar
      enable_consul_service_registration: false
      enable_declarative_healthcheck: true
      logging:
        format:
          timestamp: rfc3339
      loggregator:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
        use_v2_api: true
      tls:
        ca_cert: ((diego_rep_agent_v2.ca))
        cert: ((diego_rep_agent_v2.certificate))
        key: ((diego_rep_agent_v2.private_key))
    release: diego
  - name: cfdot
    properties:
      tls:
        ca_certificate: ((diego_rep_client.ca))
        certificate: ((diego_rep_client.certificate))
        private_key: ((diego_rep_client.private_key))
    release: diego
  - consumes:
      nats:
        ip_addresses: false
      nats-tls:
        ip_addresses: false
    name: route_emitter
    properties:
      bpm:
        enabled: true
      diego:
        route_emitter:
          bbs:
            ca_cert: ((diego_bbs_client.ca))
            client_cert: ((diego_bbs_client.certificate))
            client_key: ((diego_bbs_client.private_key))
          local_mode: true
          nats:
            tls:
              client_cert: ((nats_client_cert.certificate))
              client_key: ((nats_client_cert.private_key))
              enabled: true
      internal_routes:
        enabled: true
      logging:
        format:
          timestamp: rfc3339
      loggregator:
        ca_cert: ((loggregator_tls_agent.ca))
        cert: ((loggregator_tls_agent.certificate))
        key: ((loggregator_tls_agent.private_key))
        use_v2_api: true
      tcp:
        enabled: true
      uaa:
        ca_cert: ((uaa_ssl.ca))
        client_secret: ((uaa_clients_tcp_emitter_secret))
    release: diego
  - name: garden-cni
    properties:
      cni_config_dir: /var/vcap/jobs/silk-cni/config/cni
      cni_plugin_dir: /var/vcap/packages/silk-cni/bin
    release: cf-networking
  - name: netmon
    release: silk
  - name: vxlan-policy-agent
    properties:
      ca_cert: ((network_policy_client.ca))
      client_cert: ((network_policy_client.certificate))
      client_key: ((network_policy_client.private_key))
    release: silk
  - name: silk-daemon
    properties:
      ca_cert: ((silk_daemon.ca))
      client_cert: ((silk_daemon.certificate))
      client_key: ((silk_daemon.private_key))
    release: silk
  - name: silk-cni
    properties:
      dns_servers:
      - 169.254.0.2
    release: silk
  - name: loggr-udp-forwarder
    properties:
      loggregator:
        tls:
          ca: ((loggregator_tls_agent.ca))
          cert: ((loggregator_tls_agent.certificate))
          key: ((loggregator_tls_agent.private_key))
      metrics:
        ca_cert: ((loggr_udp_forwarder_tls.ca))
        cert: ((loggr_udp_forwarder_tls.certificate))
        key: ((loggr_udp_forwarder_tls.private_key))
        server_name: loggr_udp_forwarder_metrics
    release: loggregator-agent
  - name: smbdriver
    properties:
      tls:
        ca_cert: ((smbdriver_cert.ca))
        client_cert: ((smbdriver_client_cert.certificate))
        client_key: ((smbdriver_client_cert.private_key))
        server_cert: ((smbdriver_cert.certificate))
        server_key: ((smbdriver_cert.private_key))
    release: smb-volume
  name: diego-cell
  networks:
  - name: ((cf_runtime_network))
  stemcell: default
  update:
    max_in_flight: 3
  vm_extensions:
  - 100GB_ephemeral_disk
  vm_type: diego-cell
- azs:
  - z1
  instances: 1
  jobs:
  - consumes:
      doppler:
        from: doppler
    name: loggregator_trafficcontroller
    properties:
      cc:
        internal_service_hostname: cloud-controller-ng.service.cf.internal
        mutual_tls:
          ca_cert: ((cc_tls.ca))
        tls_port: 9023
      loggregator:
        outgoing_cert: ((loggregator_trafficcontroller_tls.certificate))
        outgoing_key: ((loggregator_trafficcontroller_tls.private_key))
        tls:
          ca_cert: ((loggregator_tls_tc.ca))
          cc_trafficcontroller:
            cert: ((loggregator_tls_cc_tc.certificate))
            key: ((loggregator_tls_cc_tc.private_key))
          trafficcontroller:
            cert: ((loggregator_tls_tc.certificate))
            key: ((loggregator_tls_tc.private_key))
        uaa:
          client_secret: ((uaa_clients_doppler_secret))
      ssl:
        skip_cert_verify: true
      system_domain: ((system_domain))
      uaa:
        ca_cert: ((uaa_ssl.ca))
        internal_url: https://uaa.service.cf.internal:8443
    release: loggregator
  - name: reverse_log_proxy
    properties:
      loggregator:
        tls:
          ca_cert: ((loggregator_tls_rlp.ca))
          reverse_log_proxy:
            cert: ((loggregator_tls_rlp.certificate))
            key: ((loggregator_tls_rlp.private_key))
    provides:
      reverse_log_proxy:
        as: reverse_log_proxy
        shared: true
    release: loggregator
  - name: reverse_log_proxy_gateway
    properties:
      cc:
        ca_cert: ((loggregator_rlp_gateway_tls_cc.ca))
        capi_internal_addr: https://cloud-controller-ng.service.cf.internal:9023
        cert: ((loggregator_rlp_gateway_tls_cc.certificate))
        common_name: cloud-controller-ng.service.cf.internal
        key: ((loggregator_rlp_gateway_tls_cc.private_key))
      http:
        address: 0.0.0.0:8088
        cert: ((loggregator_rlp_gateway_tls.certificate))
        key: ((loggregator_rlp_gateway_tls.private_key))
      logs_provider:
        ca_cert: ((loggregator_rlp_gateway.ca))
        client_cert: ((loggregator_rlp_gateway.certificate))
        client_key: ((loggregator_rlp_gateway.private_key))
      metrics:
        ca_cert: ((rlp_gateway_metrics_tls.ca))
        cert: ((rlp_gateway_metrics_tls.certificate))
        key: ((rlp_gateway_metrics_tls.private_key))
        server_name: rlp_gateway_metrics
      uaa:
        ca_cert: ((uaa_ssl.ca))
        client_id: doppler
        client_secret: ((uaa_clients_doppler_secret))
        internal_addr: https://uaa.service.cf.internal:8443
    release: loggregator
  - name: route_registrar
    properties:
      nats:
        tls:
          client_cert: ((nats_client_cert.certificate))
          client_key: ((nats_client_cert.private_key))
          enabled: true
      route_registrar:
        routes:
        - name: doppler
          registration_interval: 20s
          server_cert_domain_san: doppler.((system_domain))
          tls_port: 8081
          uris:
          - doppler.((system_domain))
          - '*.doppler.((system_domain))'
        - name: rlp-gateway
          registration_interval: 20s
          server_cert_domain_san: log-stream.((system_domain))
          tls_port: 8088
          uris:
          - log-stream.((system_domain))
          - '*.log-stream.((system_domain))'
    release: routing
  name: log-api
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_type: log-api
- azs:
  - z1
  instances: 1
  jobs:
  - name: credhub
    properties:
      credhub:
        authentication:
          mutual_tls:
            trusted_cas:
            - ((diego_instance_identity_ca.ca))
          uaa:
            ca_certs:
            - ((uaa_ssl.ca))
            url: https://uaa.service.cf.internal:8443
        authorization:
          acls:
            enabled: true
          permissions:
          - actors:
            - uaa-client:credhub_admin_client
            operations:
            - read
            - write
            - delete
            - read_acl
            - write_acl
            path: /*
          - actors:
            - uaa-client:cc_service_key_client
            operations:
            - read
            path: /*
          - actors:
            - uaa-client:smb-broker-credhub-client
            operations:
            - read
            - write
            - delete
            - read_acl
            - write_acl
            path: /smbbroker/*
        ca_certificate: |
          ((credhub_tls.ca))
        data_storage:
          database: ((external_credhub_database_name))
          host: ((external_credhub_database_address))
          password: ((external_credhub_database_password))
          port: ((external_credhub_database_port))
          require_tls: false
          type: ((external_database_type))
          username: ((external_credhub_database_username))
        encryption:
          keys:
          - active: true
            key_properties:
              encryption_password: ((credhub_encryption_password))
            provider_name: internal-provider
          providers:
          - name: internal-provider
            type: internal
        internal_url: https://credhub.service.cf.internal
        tls: ((credhub_tls))
    release: credhub
  name: credhub
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_type: credhub
- azs:
  - z1
  instances: 1
  jobs:
  - name: rotate_cc_database_key
    properties: {}
    release: capi
  lifecycle: errand
  name: rotate-cc-database-key
  networks:
  - name: ((cf_core_network))
  stemcell: default
  vm_type: errand
- azs:
  - z1
  instances: 1
  jobs:
  - name: smbtestserver
    properties:
      password: ((smb-test-server-password))
      username: smbtestserver
    release: smb-volume
  name: smbtestserver
  networks:
  - name: ((cf_runtime_network))
  persistent_disk_type: 10GB
  stemcell: default
  vm_type: medium
- azs:
  - z1
  instances: 1
  jobs:
  - name: smbbrokerpush
    properties:
      app_domain: ((system_domain))
      cf:
        client_id: smb-broker-client
        client_secret: ((smb-broker-uaa-client-secret))
      credhub:
        store_id: smbbroker
        uaa_client_id: smb-broker-credhub-client
        uaa_client_secret: ((smb-broker-credhub-uaa-client-secret))
        url: https://credhub.service.cf.internal:8844
      domain: ((system_domain))
      organization: system
      password: ((smb-broker-password))
      skip_cert_verify: true
      space: smb-broker-space
      syslog_url: ""
      username: smb-broker
    release: smb-volume
  - name: cf-cli-7-linux
    release: cf-cli
  lifecycle: errand
  name: smb-broker-push
  networks:
  - name: ((cf_runtime_network))
  stemcell: default
  vm_type: minimal
kit:
  features:
  - postgres-db
  - aws-blobstore
  - small-footprint
  - ssh-proxy-on-routers
  - app-scheduler-integration
  - smb-test-server
  - smb-volume-services
  - smb-volume-services-releases
  - app-autoscaler-integration
  - windows-releases
  - custom-router-group
  - cf-mgmt-uaa-client
  name: cf
  version: 2.2.0-rc.14
manifest_version: v16.25.0
meta:
  app_domains:
  - run.codex.starkandwayne.com
  azs:
  - z1
  blobstore_bucket_env: dev
  blobstore_bucket_path:
    app-packages: dev-cf-app-packages-((cc_directory_key))
    buildpacks: dev-cf-buildpacks-((cc_directory_key))
    droplets: dev-cf-droplets-((cc_directory_key))
    resources: dev-cf-resources-((cc_directory_key))
  blobstore_bucket_prefix: dev-cf
  blobstore_bucket_prefix_default: dev-cf
  blobstore_bucket_suffix: ((cc_directory_key))
  blobstore_bucket_type: cf
  branding:
    footer_legal_text: null
    footer_links: null
    product_logo: null
    square_logo: null
  database_defaults:
    cloud_controller:
      name: cloud_controller
      user: cloud_controller
    credhub:
      name: credhub
      user: credhub
    diego:
      name: diego
      user: diego
    locket:
      name: locket
      user: locket
    network_connectivity:
      name: network_connectivity
      user: network_connectivity
    network_policy:
      name: network_policy
      user: network_policy
    routing_api:
      name: routing-api
      user: routing-api
    uaa:
      name: uaa
      user: uaa
  default_apps_domains: apps.codex.starkandwayne.com
  default_azs:
  - z1
  - z2
  internal_app_domains: []
  vault: /secret/dev/cf
name: dev-cf
networks:
- name: default
  subnets:
  - azs:
    - z1
    cloud_properties:
      subnet: subnet-0ea631cc3ad19e04f
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.16.1
    range: 10.4.16.0/24
    reserved:
    - 10.4.16.0-10.4.16.5
    - 10.4.16.245-10.4.16.254
    static:
    - 10.4.16.6-10.4.16.16
  - azs:
    - z2
    cloud_properties:
      subnet: subnet-09a05edb82702379b
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.17.1
    range: 10.4.17.0/24
    reserved:
    - 10.4.17.0-10.4.17.5
    static:
    - 10.4.17.6-10.4.17.16
  - azs:
    - z3
    cloud_properties:
      subnet: subnet-0dd034854c197dc41
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.18.1
    range: 10.4.18.0/24
    reserved:
    - 10.4.18.0-10.4.18.5
    static:
    - 10.4.18.6-10.4.18.16
  type: manual
- name: compilation
  subnets:
  - azs:
    - z1
    cloud_properties:
      subnet: subnet-0ea631cc3ad19e04f
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.16.1
    range: 10.4.16.0/24
    reserved:
    - 10.4.16.0-10.4.16.244
  type: manual
- name: cf-db
  subnets:
  - azs:
    - z1
    cloud_properties:
      subnet: subnet-03720ac266d128f29
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.29.1
    range: 10.4.29.0/28
    reserved:
    - 10.4.29.0-10.4.29.3
    static:
    - 10.4.29.4-10.4.29.14
  - azs:
    - z2
    cloud_properties:
      subnet: subnet-015b5284fb46c07e6
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.29.17
    range: 10.4.29.16/28
    reserved:
    - 10.4.29.16-10.4.29.19
    static:
    - 10.4.29.20-10.4.29.30
  - azs:
    - z3
    cloud_properties:
      subnet: subnet-05dcf16f08f546160
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.29.33
    range: 10.4.29.32/28
    reserved:
    - 10.4.29.32-10.4.29.35
    static:
    - 10.4.29.36-10.4.29.46
  type: manual
- name: cf-edge
  subnets:
  - azs:
    - z1
    cloud_properties:
      subnet: subnet-0bdaf27eb328f7e4d
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.62.1
    range: 10.4.62.0/25
    reserved:
    - 10.4.62.0-10.4.62.3
    static:
    - 10.4.62.4-10.4.62.16
  - azs:
    - z2
    cloud_properties:
      subnet: subnet-048560ab22b7c345f
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.62.129
    range: 10.4.62.128/25
    reserved:
    - 10.4.62.128-10.4.62.131
    static:
    - 10.4.62.132-10.4.17.144
  type: manual
- name: cf-core
  subnets:
  - azs:
    - z1
    cloud_properties:
      subnet: subnet-0a00811172726ce3b
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.20.1
    range: 10.4.20.0/24
    reserved:
    - 10.4.20.0-10.4.20.5
    static:
    - 10.4.20.6-10.4.20.16
  - azs:
    - z2
    cloud_properties:
      subnet: subnet-03e4614c67b6af3d5
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.21.1
    range: 10.4.21.0/24
    reserved:
    - 10.4.21.0-10.4.21.5
    static:
    - 10.4.21.6-10.4.21.16
  - azs:
    - z3
    cloud_properties:
      subnet: subnet-04ecdc31ba8c3d685
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.22.1
    range: 10.4.22.0/24
    reserved:
    - 10.4.22.0-10.4.22.5
    static:
    - 10.4.22.6-10.4.22.16
  type: manual
- name: cf-runtime
  subnets:
  - azs:
    - z1
    cloud_properties:
      subnet: subnet-08f6940f71c779a15
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.23.1
    range: 10.4.23.0/24
    reserved:
    - 10.4.23.0-10.4.23.5
    static:
    - 10.4.23.6-10.4.23.16
  - azs:
    - z2
    cloud_properties:
      subnet: subnet-0964231d662ce7e9b
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.24.1
    range: 10.4.24.0/24
    reserved:
    - 10.4.24.0-10.4.24.5
    static:
    - 10.4.24.6-10.4.24.16
  - azs:
    - z3
    cloud_properties:
      subnet: subnet-0e513e543403b53ac
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.25.1
    range: 10.4.25.0/24
    reserved:
    - 10.4.25.0-10.4.25.5
    static:
    - 10.4.25.6-10.4.25.16
  type: manual
- name: concourse-ips
  subnets:
  - azs:
    - z1
    cloud_properties:
      subnet: subnet-004e38051f36dae09
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.68.1
    range: 10.4.68.0/24
    reserved:
    - 10.4.68.0-10.4.68.5
    static:
    - 10.4.68.6-10.4.68.16
  type: manual
- name: blacksmith
  subnets:
  - azs:
    - z1
    cloud_properties:
      subnet: subnet-062565d28649eeb00
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.26.1
    range: 10.4.26.0/24
    reserved:
    - 10.4.26.0-10.4.26.5
    - 10.4.26.245-10.4.26.254
    static:
    - 10.4.26.6-10.4.26.16
  - azs:
    - z2
    cloud_properties:
      subnet: subnet-0d10710c119782f5f
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.27.1
    range: 10.4.27.0/24
    reserved:
    - 10.4.27.0-10.4.27.5
    static:
    - 10.4.27.6-10.4.27.16
  - azs:
    - z3
    cloud_properties:
      subnet: subnet-06fb1168c8fba4e45
    dns:
    - 1.1.1.1
    - 8.8.4.4
    gateway: 10.4.28.1
    range: 10.4.28.0/24
    reserved:
    - 10.4.28.0-10.4.28.5
    static:
    - 10.4.28.6-10.4.28.16
  type: manual
params:
  api_instances: 1
  api_vm_type: api
  app_domains:
  - apps.codex.starkandwayne.com
  apps_domain: apps.codex.starkandwayne.com
  apps_domains: apps.codex.starkandwayne.com
  base_domain: codex.starkandwayne.com
  blobstore_app_packages_directory: codex-uswest2-dev-app-packages
  blobstore_buildpacks_directory: codex-uswest2-dev-buildpacks
  blobstore_droplets_directory: codex-uswest2-dev-droplets
  blobstore_resources_directory: codex-uswest2-dev-resources
  blobstore_s3_region: us-west-2
  cc_worker_instances: 1
  cc_worker_vm_type: cc-worker
  cf_core_network: cf-core
  cf_db_network: cf-core
  cf_edge_network: cf-edge
  cf_runtime_network: cf-runtime
  credhub_instances: 1
  credhub_vm_type: credhub
  diego_api_instances: 1
  diego_api_vm_type: diego-api
  diego_cell_instances: 2
  diego_cell_vm_type: diego-cell
  doppler_instances: 1
  doppler_vm_type: doppler
  errand_vm_type: errand
  external_db_ca: |
    -----BEGIN CERTIFICATE-----
    MIIEBjCCAu6gAwIBAgIJAMc0ZzaSUK51MA0GCSqGSIb3DQEBCwUAMIGPMQswCQYD
    VQQGEwJVUzEQMA4GA1UEBwwHU2VhdHRsZTETMBEGA1UECAwKV2FzaGluZ3RvbjEi
    MCAGA1UECgwZQW1hem9uIFdlYiBTZXJ2aWNlcywgSW5jLjETMBEGA1UECwwKQW1h
    em9uIFJEUzEgMB4GA1UEAwwXQW1hem9uIFJEUyBSb290IDIwMTkgQ0EwHhcNMTkw
    ODIyMTcwODUwWhcNMjQwODIyMTcwODUwWjCBjzELMAkGA1UEBhMCVVMxEDAOBgNV
    BAcMB1NlYXR0bGUxEzARBgNVBAgMCldhc2hpbmd0b24xIjAgBgNVBAoMGUFtYXpv
    biBXZWIgU2VydmljZXMsIEluYy4xEzARBgNVBAsMCkFtYXpvbiBSRFMxIDAeBgNV
    BAMMF0FtYXpvbiBSRFMgUm9vdCAyMDE5IENBMIIBIjANBgkqhkiG9w0BAQEFAAOC
    AQ8AMIIBCgKCAQEArXnF/E6/Qh+ku3hQTSKPMhQQlCpoWvnIthzX6MK3p5a0eXKZ
    oWIjYcNNG6UwJjp4fUXl6glp53Jobn+tWNX88dNH2n8DVbppSwScVE2LpuL+94vY
    0EYE/XxN7svKea8YvlrqkUBKyxLxTjh+U/KrGOaHxz9v0l6ZNlDbuaZw3qIWdD/I
    6aNbGeRUVtpM6P+bWIoxVl/caQylQS6CEYUk+CpVyJSkopwJlzXT07tMoDL5WgX9
    O08KVgDNz9qP/IGtAcRduRcNioH3E9v981QO1zt/Gpb2f8NqAjUUCUZzOnij6mx9
    McZ+9cWX88CRzR0vQODWuZscgI08NvM69Fn2SQIDAQABo2MwYTAOBgNVHQ8BAf8E
    BAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUc19g2LzLA5j0Kxc0LjZa
    pmD/vB8wHwYDVR0jBBgwFoAUc19g2LzLA5j0Kxc0LjZapmD/vB8wDQYJKoZIhvcN
    AQELBQADggEBAHAG7WTmyjzPRIM85rVj+fWHsLIvqpw6DObIjMWokpliCeMINZFV
    ynfgBKsf1ExwbvJNzYFXW6dihnguDG9VMPpi2up/ctQTN8tm9nDKOy08uNZoofMc
    NUZxKCEkVKZv+IL4oHoeayt8egtv3ujJM6V14AstMQ6SwvwvA93EP/Ug2e4WAXHu
    cbI1NAbUgVDqp+DRdfvZkgYKryjTWd/0+1fS8X1bBZVWzl7eirNVnHbSH2ZDpNuY
    0SBd8dj5F6ld3t58ydZbrTHze7JJOd8ijySAp4/kiu9UfZWuTPABzDa/DSdz9Dk/
    zPW4CXXvhLmE02TA9/HeCw3KEHIwicNuEfw=
    -----END CERTIFICATE-----
  external_db_host: snw-dev-cf-db.cmziohdu4x1g.us-west-2.rds.amazonaws.com
  external_db_password: ((external_db_password))
  external_db_port: 5432
  external_db_scheme: postgres
  external_db_username: ((external_db_user))
  log_api_instances: 1
  log_api_vm_type: log-api
  nats_instances: 1
  nats_vm_type: nats
  network: default
  router_instances: 1
  router_vm_type: router
  scheduler_instances: 1
  scheduler_vm_type: scheduler
  skip_ssl_validation: true
  system_domain: system.codex.starkandwayne.com
  tcp_router_instances: 1
  tcp_router_vm_type: tcp-router
  uaa_instances: 1
  uaa_vm_type: uaa
  uaadb_scheme: postgresql
releases:
- name: binary-buildpack
  sha1: 6e1ff3753ac5a86e968546222bbbaaba1264d938
  url: https://bosh.io/d/github.com/cloudfoundry/binary-buildpack-release?v=1.0.40
  version: 1.0.40
- name: bpm
  sha1: 6e1187b180c3d8e6d3dafa2861147a59d4ede27e
  url: https://bosh.io/d/github.com/cloudfoundry/bpm-release?v=1.1.14
  version: 1.1.14
- name: capi
  sha1: f57b95580fa2f555ee7be7f17a4be4db6a1fea34
  url: https://bosh.io/d/github.com/cloudfoundry/capi-release?v=1.119.0
  version: 1.119.0
- name: cf-networking
  sha1: ad1c97f03736524128c313f54b3cae16bf5bd986
  url: https://bosh.io/d/github.com/cloudfoundry/cf-networking-release?v=2.39.0
  version: 2.39.0
- name: cf-smoke-tests
  sha1: b1eb4efe1f88367708ac8cbb08dc78a09dde9c4b
  url: https://bosh.io/d/github.com/cloudfoundry/cf-smoke-tests-release?v=41.0.2
  version: 41.0.2
- name: cflinuxfs3
  sha1: 0a7bb8199a63a667569c5d1e5a3e0b1d4a7b96d2
  url: https://bosh.io/d/github.com/cloudfoundry/cflinuxfs3-release?v=0.262.0
  version: 0.262.0
- name: credhub
  sha1: f5b5ce04eee1251d352f337a6ecb794c4dba8a39
  url: https://bosh.io/d/github.com/pivotal-cf/credhub-release?v=2.11.1
  version: 2.11.1
- name: diego
  sha1: 85f71928d7d0f89e04cdf386c2ab4c3d485fa468
  url: https://bosh.io/d/github.com/cloudfoundry/diego-release?v=2.53.0
  version: 2.53.0
- name: dotnet-core-buildpack
  sha1: 60442fcaad7552b3bc26e61f77779deef46913b8
  url: https://bosh.io/d/github.com/cloudfoundry/dotnet-core-buildpack-release?v=2.3.34
  version: 2.3.34
- name: garden-runc
  sha1: d06a32a2e50faabd2df328619384089d9418f355
  url: https://bosh.io/d/github.com/cloudfoundry/garden-runc-release?v=1.19.30
  version: 1.19.30
- name: go-buildpack
  sha1: b1a756e21b7a9cbf3c04e66402657a41fce7d7e6
  url: https://bosh.io/d/github.com/cloudfoundry/go-buildpack-release?v=1.9.36
  version: 1.9.36
- name: java-buildpack
  sha1: 437779c708c437f8e60b1c92f218c4d01e809b6c
  url: https://bosh.io/d/github.com/cloudfoundry/java-buildpack-release?v=4.42
  version: "4.42"
- name: loggregator
  sha1: 9eb81ddf174e826a5f4e59bc4dc6bda9007495eb
  url: https://bosh.io/d/github.com/cloudfoundry/loggregator-release?v=106.6.0
  version: 106.6.0
- name: metrics-discovery
  sha1: 073f13a065ca15e7c0c435ec71f88675f4e704d3
  url: https://bosh.io/d/github.com/cloudfoundry/metrics-discovery-release?v=3.0.6
  version: 3.0.6
- name: nats
  sha1: c8b82cebfd24e65b1079b66435aac4b48f4aa3c5
  url: https://bosh.io/d/github.com/cloudfoundry/nats-release?v=40
  version: "40"
- name: nginx-buildpack
  sha1: 8adeefbcc10e25776d364f17caa4a3fdab8c3334
  url: https://bosh.io/d/github.com/cloudfoundry/nginx-buildpack-release?v=1.1.32
  version: 1.1.32
- name: r-buildpack
  sha1: 11e2fcb1f349c88a3cc2156d55730c7eb4d143ce
  url: https://bosh.io/d/github.com/cloudfoundry/r-buildpack-release?v=1.1.22
  version: 1.1.22
- name: nodejs-buildpack
  sha1: 7be381c1e879493239619ad708d258424fe0b626
  url: https://bosh.io/d/github.com/cloudfoundry/nodejs-buildpack-release?v=1.7.62
  version: 1.7.62
- name: php-buildpack
  sha1: 9f3e8de97495074ebd0362623f23d6884297fab9
  url: https://bosh.io/d/github.com/cloudfoundry/php-buildpack-release?v=4.4.46
  version: 4.4.46
- name: python-buildpack
  sha1: 73f6790af87c0945e9ab91036817b325b9976ee5
  url: https://bosh.io/d/github.com/cloudfoundry/python-buildpack-release?v=1.7.46
  version: 1.7.46
- name: routing
  sha1: a5b7f3b746cfa169f466c2b682db296ab8dcd0ad
  url: https://bosh.io/d/github.com/cloudfoundry/routing-release?v=0.225.0
  version: 0.225.0
- name: ruby-buildpack
  sha1: f6b4d39e0df49746cc4a41c308e6737e6c82764e
  url: https://bosh.io/d/github.com/cloudfoundry/ruby-buildpack-release?v=1.8.47
  version: 1.8.47
- name: silk
  sha1: 7728d15d5e0bc6c0a0a2124f123c99baf79b6ff7
  url: https://bosh.io/d/github.com/cloudfoundry/silk-release?v=2.39.0
  version: 2.39.0
- name: staticfile-buildpack
  sha1: 713dfd0486f32073281129ab45961031833d7998
  url: https://bosh.io/d/github.com/cloudfoundry/staticfile-buildpack-release?v=1.5.25
  version: 1.5.25
- name: statsd-injector
  sha1: 4ca93a4ab1a65a2b7cb2c84d27b6cbd725a914a9
  url: https://bosh.io/d/github.com/cloudfoundry/statsd-injector-release?v=1.11.16
  version: 1.11.16
- name: uaa
  sha1: 57ffc783177cbca45a983cc573b591b636d0c0bf
  url: https://bosh.io/d/github.com/cloudfoundry/uaa-release?v=75.14.0
  version: 75.14.0
- name: loggregator-agent
  sha1: 9dd3ad00fb49bebd8290fad8ce7b2e4992dac31f
  url: https://bosh.io/d/github.com/cloudfoundry/loggregator-agent-release?v=6.3.4
  version: 6.3.4
- name: log-cache
  sha1: f91e89e494ac4f9010f33a9567335dc713287fec
  url: https://bosh.io/d/github.com/cloudfoundry/log-cache-release?v=2.11.4
  version: 2.11.4
- name: bosh-dns-aliases
  sha1: 55b3dced813ff9ed92a05cda02156e4b5604b273
  url: https://bosh.io/d/github.com/cloudfoundry/bosh-dns-aliases-release?v=0.0.4
  version: 0.0.4
- name: cf-cli
  sha1: c3d11f473d4518505e2a671d8ad6a553e1b1c1ca
  url: https://bosh.io/d/github.com/bosh-packages/cf-cli-release?v=1.34.0
  version: 1.34.0
- name: smb-volume
  sha1: 5565d59f1baea51a0acb59256ae2b2118f4631da
  url: https://bosh.io/d/github.com/cloudfoundry/smb-volume-release?v=3.1.2
  version: 3.1.2
- name: windowsfs
  sha1: 36fcc451396ef259150548f5ae1073007a56fc75
  url: https://bosh.io/d/github.com/cloudfoundry/windowsfs-online-release?v=2.35.0
  version: 2.35.0
- name: winc
  sha1: 3f14f65ca0b523bbabb3631820d3388674875110
  url: https://bosh.io/d/github.com/cloudfoundry-incubator/winc-release?v=2.5.0
  version: 2.5.0
- name: nfs-volume
  version: 7.1.1+dev.1
stemcells:
- alias: default
  os: ubuntu-bionic
  version: latest
update:
  canaries: 1
  canary_watch_time: 30000-1200000
  max_in_flight: 1
  serial: false
  update_watch_time: 5000-1200000
variables:
- name: cc_bulk_api_password
  type: password
- name: cc_db_encryption_key
  type: password
- name: cc_internal_api_password
  type: password
- name: cc_staging_upload_password
  type: password
- name: cf_app_sd_ca
  options:
    common_name: service-discovery-controller.service.cf.internal
    is_ca: true
  type: certificate
- name: cf_app_sd_client_tls
  options:
    alternative_names:
    - service-discovery-controller.service.cf.internal
    ca: cf_app_sd_ca
    common_name: service-discovery-controller.service.cf.internal
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: cf_app_sd_server_tls
  options:
    alternative_names:
    - service-discovery-controller.service.cf.internal
    ca: cf_app_sd_ca
    common_name: service-discovery-controller.service.cf.internal
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: uaa_default_encryption_passphrase
  type: password
- name: silk_ca
  options:
    common_name: silk-ca
    duration: 3650
    is_ca: true
  type: certificate
- name: silk_controller
  options:
    alternative_names:
    - silk-controller.service.cf.internal
    ca: silk_ca
    common_name: silk-controller.service.cf.internal
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: silk_daemon
  options:
    alternative_names:
    - silk-daemon
    ca: silk_ca
    common_name: silk-daemon
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: network_policy_ca
  options:
    common_name: networkPolicyCA
    duration: 3650
    is_ca: true
  type: certificate
- name: network_policy_server_external
  options:
    alternative_names:
    - api.((system_domain))
    ca: network_policy_ca
    common_name: api.((system_domain))
    extended_key_usage:
    - server_auth
  type: certificate
- name: network_policy_server
  options:
    alternative_names:
    - policy-server.service.cf.internal
    ca: network_policy_ca
    common_name: policy-server.service.cf.internal
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: network_policy_client
  options:
    alternative_names:
    - clientName
    ca: network_policy_ca
    common_name: clientName
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: uaa_clients_routing_api_client_secret
  type: password
- name: uaa_clients_tcp_emitter_secret
  type: password
- name: nats_password
  type: password
- name: router_status_password
  type: password
- name: cf_admin_password
  type: password
- name: router_route_services_secret
  type: password
- name: uaa_admin_client_secret
  type: password
- name: uaa_clients_cc-routing_secret
  type: password
- name: uaa_clients_cc-service-dashboards_secret
  type: password
- name: uaa_clients_cc_service_key_client_secret
  type: password
- name: uaa_clients_cf_smoke_tests_secret
  type: password
- name: uaa_clients_cloud_controller_username_lookup_secret
  type: password
- name: uaa_clients_doppler_secret
  type: password
- name: uaa_clients_gorouter_secret
  type: password
- name: uaa_clients_network_policy_secret
  type: password
- name: uaa_clients_ssh-proxy_secret
  type: password
- name: uaa_clients_tcp_router_secret
  type: password
- name: diego_bbs_encryption_keys_passphrase
  type: password
- name: credhub_encryption_password
  type: password
- name: credhub_admin_client_secret
  type: password
- name: diego_ssh_proxy_host_key
  type: ssh
- name: uaa_jwt_signing_key
  type: rsa
- name: service_cf_internal_ca
  options:
    common_name: internalCA
    duration: 3650
    is_ca: true
  type: certificate
- name: diego_auctioneer_client
  options:
    alternative_names:
    - auctioneer-client
    ca: service_cf_internal_ca
    common_name: auctioneer-client
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: diego_auctioneer_server
  options:
    alternative_names:
    - '*.auctioneer.service.cf.internal'
    - auctioneer.service.cf.internal
    ca: service_cf_internal_ca
    common_name: auctioneer.service.cf.internal
    extended_key_usage:
    - server_auth
  type: certificate
- name: diego_bbs_client
  options:
    alternative_names:
    - bbs-client
    ca: service_cf_internal_ca
    common_name: bbs-client
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: diego_bbs_server
  options:
    alternative_names:
    - '*.bbs.service.cf.internal'
    - bbs.service.cf.internal
    ca: service_cf_internal_ca
    common_name: bbs.service.cf.internal
    extended_key_usage:
    - server_auth
    - client_auth
  type: certificate
- name: diego_rep_client
  options:
    alternative_names:
    - rep-client
    ca: service_cf_internal_ca
    common_name: rep-client
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: diego_rep_agent_v2
  options:
    alternative_names:
    - '*.cell.service.cf.internal'
    - cell.service.cf.internal
    - 127.0.0.1
    - localhost
    ca: service_cf_internal_ca
    common_name: cell.service.cf.internal
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
- name: loggregator_ca
  options:
    common_name: loggregatorCA
    duration: 3650
    is_ca: true
  type: certificate
- name: loggregator_tls_statsdinjector
  options:
    alternative_names:
    - statsdinjector
    ca: loggregator_ca
    common_name: statsdinjector
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: loggregator_tls_agent
  options:
    alternative_names:
    - metron
    ca: loggregator_ca
    common_name: metron
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
  update_mode: converge
- name: loggregator_tls_doppler
  options:
    alternative_names:
    - doppler
    ca: loggregator_ca
    common_name: doppler
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
  update_mode: converge
- name: loggregator_tls_tc
  options:
    alternative_names:
    - trafficcontroller
    ca: loggregator_ca
    common_name: trafficcontroller
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
  update_mode: converge
- name: loggregator_tls_cc_tc
  options:
    alternative_names:
    - trafficcontroller
    ca: service_cf_internal_ca
    common_name: trafficcontroller
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: loggregator_rlp_gateway_tls_cc
  options:
    alternative_names:
    - rlp-gateway
    ca: service_cf_internal_ca
    common_name: rlp-gateway
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: loggregator_tls_rlp
  options:
    alternative_names:
    - reverselogproxy
    ca: loggregator_ca
    common_name: reverselogproxy
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
  update_mode: converge
- name: loggregator_rlp_gateway
  options:
    alternative_names:
    - rlp_gateway
    ca: loggregator_ca
    common_name: rlp_gateway
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: logs_provider
  options:
    alternative_names:
    - log-cache
    ca: loggregator_ca
    common_name: log-cache
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
  update_mode: converge
- name: log_cache_ca
  options:
    common_name: log-cache
    duration: 3650
    is_ca: true
  type: certificate
- name: log_cache
  options:
    alternative_names:
    - log_cache
    - log-cache
    - logcache
    ca: log_cache_ca
    common_name: log-cache
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
  update_mode: converge
- name: log_cache_to_loggregator_agent
  options:
    alternative_names:
    - log-cache
    ca: loggregator_ca
    common_name: log-cache
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: cc_logcache_tls
  options:
    alternative_names:
    - api.((system_domain))
    - cloud-controller-ng.service.cf.internal
    ca: log_cache_ca
    common_name: api.((system_domain))
  type: certificate
  update_mode: converge
- name: logcache_ssl
  options:
    alternative_names:
    - log-cache
    - log-cache.((system_domain))
    - '*.log-cache.((system_domain))'
    ca: service_cf_internal_ca
    common_name: log-cache
  type: certificate
  update_mode: converge
- name: log_cache_proxy_tls
  options:
    alternative_names:
    - localhost
    ca: log_cache_ca
    common_name: localhost
  type: certificate
  update_mode: converge
- name: router_ca
  options:
    common_name: routerCA
    duration: 3650
    is_ca: true
  type: certificate
- name: router_ssl
  options:
    alternative_names:
    - ((system_domain))
    - '*.((system_domain))'
    ca: router_ca
    common_name: routerSSL
  type: certificate
- name: routing_api_ca
  options:
    common_name: routing_api
    duration: 3650
    is_ca: true
  type: certificate
- name: routing_api_tls
  options:
    alternative_names:
    - routing-api.service.cf.internal
    ca: routing_api_ca
    common_name: routing-api.service.cf.internal
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: routing_api_tls_client
  options:
    alternative_names:
    - routing-api-client
    ca: routing_api_ca
    common_name: routing-api-client
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: uaa_ca
  options:
    common_name: uaaCA
    duration: 3650
    is_ca: true
  type: certificate
- name: uaa_ssl
  options:
    alternative_names:
    - uaa.service.cf.internal
    ca: uaa_ca
    common_name: uaa.service.cf.internal
  type: certificate
- name: uaa_login_saml
  options:
    alternative_names:
    - uaa_login_saml
    ca: uaa_ca
    common_name: uaa_login_saml
  type: certificate
  update_mode: converge
- name: cc_tls
  options:
    alternative_names:
    - cloud-controller-ng.service.cf.internal
    ca: service_cf_internal_ca
    common_name: cloud-controller-ng.service.cf.internal
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
  update_mode: converge
- name: cc_public_tls
  options:
    alternative_names:
    - api.((system_domain))
    - cloud-controller-ng.service.cf.internal
    ca: service_cf_internal_ca
    common_name: api.((system_domain))
  type: certificate
- name: cc_bridge_tps
  options:
    alternative_names:
    - tps_watcher
    ca: service_cf_internal_ca
    common_name: tps_watcher
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: cc_bridge_cc_uploader
  options:
    alternative_names:
    - cc_uploader
    ca: service_cf_internal_ca
    common_name: cc_uploader
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: cc_bridge_cc_uploader_server
  options:
    alternative_names:
    - cc-uploader.service.cf.internal
    ca: service_cf_internal_ca
    common_name: cc-uploader.service.cf.internal
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: diego_locket_server
  options:
    alternative_names:
    - '*.locket.service.cf.internal'
    - locket.service.cf.internal
    ca: service_cf_internal_ca
    common_name: locket.service.cf.internal
    extended_key_usage:
    - server_auth
  type: certificate
- name: diego_locket_client
  options:
    alternative_names:
    - locket-client
    ca: service_cf_internal_ca
    common_name: locket-client
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: application_ca
  options:
    common_name: appRootCA
    duration: 3650
    is_ca: true
  type: certificate
- name: diego_instance_identity_ca
  options:
    ca: application_ca
    common_name: instanceIdentityCA
    duration: 3650
    is_ca: true
  type: certificate
- name: gorouter_backend_tls
  options:
    alternative_names:
    - gorouter.service.cf.internal
    ca: service_cf_internal_ca
    common_name: gorouter_backend_tls
    extended_key_usage:
    - client_auth
  type: certificate
- name: credhub_ca
  options:
    common_name: credhubServerCa
    duration: 3650
    is_ca: true
  type: certificate
- name: credhub_tls
  options:
    alternative_names:
    - credhub.service.cf.internal
    - credhub.((system_domain))
    ca: credhub_ca
    common_name: credhub.((system_domain))
  type: certificate
- name: ssh_proxy_backends_tls
  options:
    alternative_names:
    - ssh-proxy.service.cf.internal
    ca: service_cf_internal_ca
    common_name: ssh_proxy_backends_tls
    extended_key_usage:
    - client_auth
  type: certificate
- name: loggregator_rlp_gateway_tls
  options:
    alternative_names:
    - log-stream.((system_domain))
    - log-api.service.cf.internal
    ca: service_cf_internal_ca
    common_name: log-stream.((system_domain))
  type: certificate
  update_mode: converge
- name: loggregator_trafficcontroller_tls
  options:
    alternative_names:
    - doppler.((system_domain))
    - log-api.service.cf.internal
    ca: service_cf_internal_ca
    common_name: doppler.((system_domain))
  type: certificate
  update_mode: converge
- name: metric_scraper_ca
  options:
    common_name: metricScraperCA
    duration: 3650
    is_ca: true
  type: certificate
- name: metrics_agent_tls
  options:
    alternative_names:
    - metrics_agent
    ca: metric_scraper_ca
    common_name: metrics_agent
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: metrics_discovery_metrics_tls
  options:
    alternative_names:
    - metrics_discovery_metrics
    ca: metric_scraper_ca
    common_name: metrics_discovery_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: scrape_config_generator_metrics_tls
  options:
    alternative_names:
    - scrape_config_generator_metrics
    ca: metric_scraper_ca
    common_name: scrape_config_generator_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: log_cache_metrics_tls
  options:
    alternative_names:
    - log_cache_metrics
    ca: metric_scraper_ca
    common_name: log_cache_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: log_cache_nozzle_metrics_tls
  options:
    alternative_names:
    - log_cache_nozzle_metrics
    ca: metric_scraper_ca
    common_name: log_cache_nozzle_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: log_cache_cf_auth_proxy_metrics_tls
  options:
    alternative_names:
    - log_cache_cf_auth_proxy_metrics
    ca: metric_scraper_ca
    common_name: log_cache_cf_auth_proxy_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: log_cache_gateway_metrics_tls
  options:
    alternative_names:
    - log_cache_gateway_metrics
    ca: metric_scraper_ca
    common_name: log_cache_gateway_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: forwarder_agent_metrics_tls
  options:
    alternative_names:
    - forwarder_agent_metrics
    ca: metric_scraper_ca
    common_name: forwarder_agent_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: loggregator_agent_metrics_tls
  options:
    alternative_names:
    - loggregator_agent_metrics
    ca: metric_scraper_ca
    common_name: loggregator_agent_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: loggr_udp_forwarder_tls
  options:
    alternative_names:
    - loggr_udp_forwarder_metrics
    ca: metric_scraper_ca
    common_name: loggr_udp_forwarder_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: syslog_agent_api_tls
  options:
    alternative_names:
    - syslog-agent
    ca: loggregator_ca
    common_name: syslog-agent
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: binding_cache_api_tls
  options:
    alternative_names:
    - binding-cache
    ca: service_cf_internal_ca
    common_name: binding-cache
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: binding_cache_tls
  options:
    alternative_names:
    - binding-cache
    ca: loggregator_ca
    common_name: binding-cache
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: syslog_agent_metrics_tls
  options:
    alternative_names:
    - syslog_agent_metrics
    ca: metric_scraper_ca
    common_name: syslog_agent_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: loggr_syslog_binding_cache_metrics_tls
  options:
    alternative_names:
    - loggr_syslog_binding_cache_metrics
    ca: metric_scraper_ca
    common_name: loggr_syslog_binding_cache_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: prom_scraper_scrape_tls
  options:
    alternative_names:
    - prom_scraper
    ca: metric_scraper_ca
    common_name: prom_scraper
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: prom_scraper_metrics_tls
  options:
    alternative_names:
    - prom_scraper_metrics
    ca: metric_scraper_ca
    common_name: prom_scraper_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: rlp_gateway_metrics_tls
  options:
    alternative_names:
    - rlp_gateway_metrics
    ca: metric_scraper_ca
    common_name: rlp_gateway_metrics
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: nats_internal_ca
  options:
    common_name: nats_internal
    is_ca: true
  type: certificate
- name: nats_internal_cert
  options:
    alternative_names:
    - '*.nats.service.cf.internal'
    - nats.service.cf.internal
    ca: nats_internal_ca
    common_name: '*.nats.service.cf.internal'
    extended_key_usage:
    - client_auth
    - server_auth
  type: certificate
- name: nats_ca
  options:
    common_name: nats
    duration: 3650
    is_ca: true
  type: certificate
- name: nats_client_cert
  options:
    alternative_names:
    - nats_client
    ca: nats_ca
    common_name: nats_client
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- consumes:
    alternative_name:
      from: nats-tls-address
      properties:
        wildcard: true
  name: nats_server_cert
  options:
    alternative_names:
    - '*.nats.service.cf.internal'
    - nats.service.cf.internal
    ca: nats_ca
    common_name: nats.service.cf.internal
    extended_key_usage:
    - server_auth
  type: certificate
  update_mode: converge
- name: cc_directory_key
  options:
    exclude_upper: true
    length: 10
  type: password
- name: uaa_clients_app_scheduler_secret
  type: password
- name: smb-test-server-password
  type: password
- name: smb-broker-password
  type: password
- name: smb-broker-uaa-client-secret
  type: password
- name: smb-broker-credhub-uaa-client-secret
  type: password
- name: smb_ca
  options:
    common_name: smb-ca
    is_ca: true
  type: certificate
- name: smbdriver_cert
  options:
    alternative_names:
    - 127.0.0.1
    ca: smb_ca
    common_name: 127.0.0.1
    extended_key_usage:
    - server_auth
  type: certificate
- name: smbdriver_client_cert
  options:
    alternative_names:
    - smb-client
    ca: smb_ca
    common_name: smb-client
    extended_key_usage:
    - client_auth
  type: certificate
  update_mode: converge
- name: uaa_clients_app_autoscaler_secret
  type: password
- name: cf_mgmt_client_secret
  type: password
- name: stratos_client_secret
  type: password
vm_extensions:
- cloud_properties:
    ephemeral_disk:
      size: 102400
      type: gp3
  name: 100GB_ephemeral_disk
- cloud_properties:
    ephemeral_disk:
      size: 51200
      type: gp3
  name: 50GB_ephemeral_disk
- cloud_properties:
    elbs:
    - snw-dev-cf-elb
  name: cf-router-network-properties
- cloud_properties:
    elbs:
    - dev-cf-tcp-lb
  name: cf-tcp-router-network-properties
- name: diego-ssh-proxy-network-properties
vm_types:
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 32768
      type: gp3
    instance_type: t3.small
  name: api
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: as-api
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: as-broker
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: as-collector
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: as-engine
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: as-operator
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: as-scaler
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: as-scheduler
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.nano
  name: bbs
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: blobstore
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 24576
      type: gp3
    instance_type: t3.medium
  name: bosh
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.nano
  name: cc-worker
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 65536
      type: gp3
    instance_type: t3.nano
  name: compilation
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 65536
      type: gp3
    instance_type: t3.nano
  name: concourse-worker
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.nano
  name: credhub
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.nano
  name: default
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 262144
      type: gp3
    instance_type: t3.small
  name: diego-cell
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 32768
      type: gp3
    instance_type: t3.nano
  name: diego-api
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 32768
      type: gp3
    instance_type: t3.medium
  name: doppler
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.small
  name: errand
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.small
  name: haproxy
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 32768
      type: gp3
    instance_type: t3.small
  name: large
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.small
  name: log-api
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.micro
  name: medium
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 10240
      type: gp3
    instance_type: t3.nano
  name: minimal
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.nano
  name: nats
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 32768
      type: gp3
    instance_type: t3.medium
  name: postgres
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.small
  name: router
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.small
  name: scheduler
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.nano
  name: small
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 10240
      type: gp3
    instance_type: t3.nano
  name: small-cf
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 24576
      type: gp3
    instance_type: t3.nano
  name: small-highmem
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.small
  name: syslogger
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 8192
      type: gp3
    instance_type: t3.nano
  name: tcp-router
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 81920
      type: gp3
    instance_type: t3.small
  name: thunder-dome
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 16384
      type: gp3
    instance_type: t3.small
  name: uaa
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 10240
      type: gp3
    instance_type: t3.medium
  name: blacksmith
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 10240
      type: gp3
    instance_type: t3.small
  name: blacksmith-redis-small
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 10240
      type: gp3
    instance_type: t3.medium
  name: blacksmith-redis-medium
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 10240
      type: gp3
    instance_type: t3.large
  name: blacksmith-redis-large
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 10240
      type: gp3
    instance_type: t3.small
  name: blacksmith-rabbitmq-medium
- cloud_properties:
    ephemeral_disk:
      encrypted: true
      size: 10240
      type: gp3
    instance_type: t3.medium
  name: blacksmith-rabbitmq-large